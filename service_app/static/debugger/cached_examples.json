{
  "scenarios": [
    {
      "id": "prototype_local_demo",
      "title": "Prototype: Shopping Arithmetic",
      "description": "Single-sample matrix with all strategies and scorers for a short arithmetic word problem.",
      "available_budgets": [
        4,
        8
      ],
      "default_budget": 8
    },
    {
      "id": "prototype_duck_eggs",
      "title": "Prototype: Duck Eggs",
      "description": "Second cached sample to compare how strategy-scorer behavior changes across prompts.",
      "available_budgets": [
        4,
        8
      ],
      "default_budget": 8
    }
  ],
  "payloads": {
    "prototype_local_demo": {
      "4": {
        "scenario": {
          "id": "prototype_local_demo",
          "title": "Prototype: Shopping Arithmetic",
          "description": "Single-sample matrix with all strategies and scorers for a short arithmetic word problem.",
          "prompt": "Reason step-by-step. Return the final answer in \\boxed{}.\n\nQuestion: A student buys 5 notebooks at $3 each and 2 pens at $2 each. What is the total cost?",
          "ground_truth": "19",
          "shared_prompt": "Reason step-by-step. Return the final answer in \\boxed{}.",
          "input_source": "prototype_dataset",
          "model_config": {
            "provider": "openrouter",
            "model_id": "openai/gpt-4o-mini",
            "api_key_masked": "sk-or...demo"
          },
          "strategy_count": 5,
          "scorer_count": 4,
          "run_count": 20
        },
        "available_budgets": [
          4,
          8,
          12
        ],
        "selected_budget": 4,
        "strategy_catalog": [
          {
            "id": "baseline",
            "name": "Baseline (Raw CoT)",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking."
          },
          {
            "id": "beam_search",
            "name": "Beam Search (ToT)",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning."
          },
          {
            "id": "online_best_of_n",
            "name": "Online Best-of-N",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking."
          },
          {
            "id": "offline_best_of_n",
            "name": "Offline Best-of-N",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end."
          },
          {
            "id": "self_consistency",
            "name": "Self-Consistency",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus."
          }
        ],
        "scorer_catalog": [
          {
            "id": "prm",
            "name": "PRM",
            "direction": "higher_better",
            "threshold": 0.72,
            "summary": "Process Reward Model trajectory quality score."
          },
          {
            "id": "sequence_prob",
            "name": "Sequence Prob",
            "direction": "higher_better",
            "threshold": 0.65,
            "summary": "Cumulative sequence probability from token logprobs."
          },
          {
            "id": "perplexity",
            "name": "Perplexity",
            "direction": "lower_better",
            "threshold": 0.36,
            "summary": "Per-token perplexity estimated from generation logprobs."
          },
          {
            "id": "entropy",
            "name": "Entropy",
            "direction": "lower_better",
            "threshold": 0.34,
            "summary": "Mean token entropy of decoded reasoning steps."
          }
        ],
        "strategies": [
          {
            "id": "baseline__prm",
            "strategy_id": "baseline",
            "scorer_id": "prm",
            "name": "Baseline (Raw CoT) \u00b7 PRM",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking. Evaluated with PRM.",
            "run": {
              "budget": 4,
              "budget_unit": "steps",
              "used_budget": 2,
              "tokens_used": 1103,
              "latency_ms": 6256,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "baseline",
                "name": "Baseline (Raw CoT)",
                "family": "single_pass"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "baseline_prm_selected",
                "confidence": 0.7578024861884199,
                "uncertainty": 0.24219751381158006,
                "quality_score": 0.7133333333333334,
                "selection_reason": "Baseline (Raw CoT) selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Single-pass reasoning generation",
                  "stage": "generation",
                  "decision": {
                    "action": "stop",
                    "reason": "Single-pass baseline emits one chain; scorer evaluates the completed trajectory."
                  },
                  "signals": [
                    {
                      "name": "confidence",
                      "value": 0.7578024861884199,
                      "direction": "higher_better",
                      "threshold": 0.7
                    },
                    {
                      "name": "prm",
                      "value": 0.7578024861884199,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "baseline_prm_c1",
                      "label": "Generated chain",
                      "text": "A student buys 5 notebooks at $3 each and 2 pens at $2 each. What is the total cost? -> predicted answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.7578024861884199,
                        "trajectory_confidence": 0.7578024861884199
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 10
          },
          {
            "id": "baseline__sequence_prob",
            "strategy_id": "baseline",
            "scorer_id": "sequence_prob",
            "name": "Baseline (Raw CoT) \u00b7 Sequence Prob",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking. Evaluated with Sequence Prob.",
            "run": {
              "budget": 4,
              "budget_unit": "steps",
              "used_budget": 2,
              "tokens_used": 1171,
              "latency_ms": 7728,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "baseline",
                "name": "Baseline (Raw CoT)",
                "family": "single_pass"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "baseline_sequence_prob_selected",
                "confidence": 0.7896717190488707,
                "uncertainty": 0.21032828095112932,
                "quality_score": 0.6933333333333334,
                "selection_reason": "Baseline (Raw CoT) selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Single-pass reasoning generation",
                  "stage": "generation",
                  "decision": {
                    "action": "stop",
                    "reason": "Single-pass baseline emits one chain; scorer evaluates the completed trajectory."
                  },
                  "signals": [
                    {
                      "name": "confidence",
                      "value": 0.7896717190488707,
                      "direction": "higher_better",
                      "threshold": 0.7
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.7896717190488707,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "baseline_sequence_prob_c1",
                      "label": "Generated chain",
                      "text": "A student buys 5 notebooks at $3 each and 2 pens at $2 each. What is the total cost? -> predicted answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.7896717190488707,
                        "trajectory_confidence": 0.7896717190488707
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 11
          },
          {
            "id": "baseline__perplexity",
            "strategy_id": "baseline",
            "scorer_id": "perplexity",
            "name": "Baseline (Raw CoT) \u00b7 Perplexity",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking. Evaluated with Perplexity.",
            "run": {
              "budget": 4,
              "budget_unit": "steps",
              "used_budget": 2,
              "tokens_used": 1088,
              "latency_ms": 6243,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "baseline",
                "name": "Baseline (Raw CoT)",
                "family": "single_pass"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "15",
                "is_correct": false,
                "selected_trajectory": "baseline_perplexity_selected",
                "confidence": 0.4113369679510063,
                "uncertainty": 0.5886630320489936,
                "quality_score": 0.4733333333333334,
                "selection_reason": "Baseline (Raw CoT) selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Single-pass reasoning generation",
                  "stage": "generation",
                  "decision": {
                    "action": "stop",
                    "reason": "Single-pass baseline emits one chain; scorer evaluates the completed trajectory."
                  },
                  "signals": [
                    {
                      "name": "confidence",
                      "value": 0.4113369679510063,
                      "direction": "higher_better",
                      "threshold": 0.7
                    },
                    {
                      "name": "perplexity",
                      "value": 0.5886630320489936,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "baseline_perplexity_c1",
                      "label": "Generated chain",
                      "text": "A student buys 5 notebooks at $3 each and 2 pens at $2 each. What is the total cost? -> predicted answer 15.",
                      "answer": "15",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.5886630320489936,
                        "trajectory_confidence": 0.4113369679510063
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 20
          },
          {
            "id": "baseline__entropy",
            "strategy_id": "baseline",
            "scorer_id": "entropy",
            "name": "Baseline (Raw CoT) \u00b7 Entropy",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking. Evaluated with Entropy.",
            "run": {
              "budget": 4,
              "budget_unit": "steps",
              "used_budget": 2,
              "tokens_used": 1065,
              "latency_ms": 6483,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "baseline",
                "name": "Baseline (Raw CoT)",
                "family": "single_pass"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "baseline_entropy_selected",
                "confidence": 0.7308942123985801,
                "uncertainty": 0.2691057876014199,
                "quality_score": 0.6633333333333333,
                "selection_reason": "Baseline (Raw CoT) selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Single-pass reasoning generation",
                  "stage": "generation",
                  "decision": {
                    "action": "stop",
                    "reason": "Single-pass baseline emits one chain; scorer evaluates the completed trajectory."
                  },
                  "signals": [
                    {
                      "name": "confidence",
                      "value": 0.7308942123985801,
                      "direction": "higher_better",
                      "threshold": 0.7
                    },
                    {
                      "name": "entropy",
                      "value": 0.2691057876014199,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "baseline_entropy_c1",
                      "label": "Generated chain",
                      "text": "A student buys 5 notebooks at $3 each and 2 pens at $2 each. What is the total cost? -> predicted answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.2691057876014199,
                        "trajectory_confidence": 0.7308942123985801
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 12
          },
          {
            "id": "beam_search__prm",
            "strategy_id": "beam_search",
            "scorer_id": "prm",
            "name": "Beam Search (ToT) \u00b7 PRM",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning. Evaluated with PRM.",
            "run": {
              "budget": 4,
              "budget_unit": "node_expansions",
              "used_budget": 3,
              "tokens_used": 1093,
              "latency_ms": 7517,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "beam_search",
                "name": "Beam Search (ToT)",
                "family": "tree_search"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "beam_search_prm_selected",
                "confidence": 0.9328992973100967,
                "uncertainty": 0.06710070268990331,
                "quality_score": 0.8333333333333334,
                "selection_reason": "Beam Search (ToT) selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Depth-1 tree expansion",
                  "stage": "tree_expand",
                  "decision": {
                    "action": "stop",
                    "reason": "Expansion budget exhausted."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.6655221754425419,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "prm",
                      "value": 0.8368953489486514,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_prm_t1",
                      "label": "Node A",
                      "text": "Promising branch trending toward 19.",
                      "answer": "",
                      "status": "kept",
                      "selected": true,
                      "signals": {
                        "prm": 0.8328992973100967,
                        "value": 0.6655221754425419,
                        "depth": 1
                      }
                    },
                    {
                      "id": "beam_search_prm_t2",
                      "label": "Node B",
                      "text": "Weak branch drifting toward 21.",
                      "answer": "",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "prm": 0.7128992973100967,
                        "value": 0.4855221754425419,
                        "depth": 1
                      }
                    }
                  ]
                }
              ],
              "tree": {
                "nodes": [
                  {
                    "id": "beam_search_prm_n1",
                    "label": "Root",
                    "value": 0.48298178937938896,
                    "depth": 0,
                    "x": 0.5,
                    "y": 0.14
                  },
                  {
                    "id": "beam_search_prm_n2",
                    "label": "A",
                    "value": 0.7628992973100966,
                    "depth": 1,
                    "x": 0.24,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_prm_n3",
                    "label": "B",
                    "value": 0.8528992973100967,
                    "depth": 1,
                    "x": 0.52,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_prm_n4",
                    "label": "C",
                    "value": 0.6928992973100967,
                    "depth": 1,
                    "x": 0.8,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_prm_n5",
                    "label": "B2",
                    "value": 0.9328992973100967,
                    "depth": 2,
                    "x": 0.52,
                    "y": 0.82
                  }
                ],
                "edges": [
                  {
                    "source": "beam_search_prm_n1",
                    "target": "beam_search_prm_n2"
                  },
                  {
                    "source": "beam_search_prm_n1",
                    "target": "beam_search_prm_n3"
                  },
                  {
                    "source": "beam_search_prm_n1",
                    "target": "beam_search_prm_n4"
                  },
                  {
                    "source": "beam_search_prm_n3",
                    "target": "beam_search_prm_n5"
                  }
                ],
                "selected_path": [
                  "beam_search_prm_n1",
                  "beam_search_prm_n3",
                  "beam_search_prm_n5"
                ]
              }
            },
            "comparison_rank": 1
          },
          {
            "id": "beam_search__sequence_prob",
            "strategy_id": "beam_search",
            "scorer_id": "sequence_prob",
            "name": "Beam Search (ToT) \u00b7 Sequence Prob",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning. Evaluated with Sequence Prob.",
            "run": {
              "budget": 4,
              "budget_unit": "node_expansions",
              "used_budget": 3,
              "tokens_used": 1096,
              "latency_ms": 7353,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "beam_search",
                "name": "Beam Search (ToT)",
                "family": "tree_search"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "beam_search_sequence_prob_selected",
                "confidence": 0.9085590304066066,
                "uncertainty": 0.09144096959339343,
                "quality_score": 0.8133333333333334,
                "selection_reason": "Beam Search (ToT) selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Depth-1 tree expansion",
                  "stage": "tree_expand",
                  "decision": {
                    "action": "stop",
                    "reason": "Expansion budget exhausted."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.6086627765361141,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.8054660108994854,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_sequence_prob_t1",
                      "label": "Node A",
                      "text": "Promising branch trending toward 19.",
                      "answer": "",
                      "status": "kept",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.8085590304066066,
                        "value": 0.6086627765361141,
                        "depth": 1
                      }
                    },
                    {
                      "id": "beam_search_sequence_prob_t2",
                      "label": "Node B",
                      "text": "Weak branch drifting toward 18.",
                      "answer": "",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.6885590304066066,
                        "value": 0.4286627765361141,
                        "depth": 1
                      }
                    }
                  ]
                }
              ],
              "tree": {
                "nodes": [
                  {
                    "id": "beam_search_sequence_prob_n1",
                    "label": "Root",
                    "value": 0.4832867775361606,
                    "depth": 0,
                    "x": 0.5,
                    "y": 0.14
                  },
                  {
                    "id": "beam_search_sequence_prob_n2",
                    "label": "A",
                    "value": 0.7385590304066065,
                    "depth": 1,
                    "x": 0.24,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_sequence_prob_n3",
                    "label": "B",
                    "value": 0.8285590304066066,
                    "depth": 1,
                    "x": 0.52,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_sequence_prob_n4",
                    "label": "C",
                    "value": 0.6685590304066066,
                    "depth": 1,
                    "x": 0.8,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_sequence_prob_n5",
                    "label": "B2",
                    "value": 0.9085590304066066,
                    "depth": 2,
                    "x": 0.52,
                    "y": 0.82
                  }
                ],
                "edges": [
                  {
                    "source": "beam_search_sequence_prob_n1",
                    "target": "beam_search_sequence_prob_n2"
                  },
                  {
                    "source": "beam_search_sequence_prob_n1",
                    "target": "beam_search_sequence_prob_n3"
                  },
                  {
                    "source": "beam_search_sequence_prob_n1",
                    "target": "beam_search_sequence_prob_n4"
                  },
                  {
                    "source": "beam_search_sequence_prob_n3",
                    "target": "beam_search_sequence_prob_n5"
                  }
                ],
                "selected_path": [
                  "beam_search_sequence_prob_n1",
                  "beam_search_sequence_prob_n3",
                  "beam_search_sequence_prob_n5"
                ]
              }
            },
            "comparison_rank": 3
          },
          {
            "id": "beam_search__perplexity",
            "strategy_id": "beam_search",
            "scorer_id": "perplexity",
            "name": "Beam Search (ToT) \u00b7 Perplexity",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning. Evaluated with Perplexity.",
            "run": {
              "budget": 4,
              "budget_unit": "node_expansions",
              "used_budget": 3,
              "tokens_used": 1193,
              "latency_ms": 7128,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "beam_search",
                "name": "Beam Search (ToT)",
                "family": "tree_search"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "beam_search_perplexity_selected",
                "confidence": 0.8794547225651653,
                "uncertainty": 0.12054527743483467,
                "quality_score": 0.7933333333333333,
                "selection_reason": "Beam Search (ToT) selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Depth-1 tree expansion",
                  "stage": "tree_expand",
                  "decision": {
                    "action": "stop",
                    "reason": "Expansion budget exhausted."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.607096649227193,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "perplexity",
                      "value": 0.19065335377820036,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_perplexity_t1",
                      "label": "Node A",
                      "text": "Promising branch trending toward 19.",
                      "answer": "",
                      "status": "kept",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.22054527743483465,
                        "value": 0.607096649227193,
                        "depth": 1
                      }
                    },
                    {
                      "id": "beam_search_perplexity_t2",
                      "label": "Node B",
                      "text": "Weak branch drifting toward 17.",
                      "answer": "",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.34054527743483465,
                        "value": 0.427096649227193,
                        "depth": 1
                      }
                    }
                  ]
                }
              ],
              "tree": {
                "nodes": [
                  {
                    "id": "beam_search_perplexity_n1",
                    "label": "Root",
                    "value": 0.4867707217812477,
                    "depth": 0,
                    "x": 0.5,
                    "y": 0.14
                  },
                  {
                    "id": "beam_search_perplexity_n2",
                    "label": "A",
                    "value": 0.7094547225651653,
                    "depth": 1,
                    "x": 0.24,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_perplexity_n3",
                    "label": "B",
                    "value": 0.7994547225651654,
                    "depth": 1,
                    "x": 0.52,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_perplexity_n4",
                    "label": "C",
                    "value": 0.6394547225651653,
                    "depth": 1,
                    "x": 0.8,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_perplexity_n5",
                    "label": "B2",
                    "value": 0.8794547225651653,
                    "depth": 2,
                    "x": 0.52,
                    "y": 0.82
                  }
                ],
                "edges": [
                  {
                    "source": "beam_search_perplexity_n1",
                    "target": "beam_search_perplexity_n2"
                  },
                  {
                    "source": "beam_search_perplexity_n1",
                    "target": "beam_search_perplexity_n3"
                  },
                  {
                    "source": "beam_search_perplexity_n1",
                    "target": "beam_search_perplexity_n4"
                  },
                  {
                    "source": "beam_search_perplexity_n3",
                    "target": "beam_search_perplexity_n5"
                  }
                ],
                "selected_path": [
                  "beam_search_perplexity_n1",
                  "beam_search_perplexity_n3",
                  "beam_search_perplexity_n5"
                ]
              }
            },
            "comparison_rank": 5
          },
          {
            "id": "beam_search__entropy",
            "strategy_id": "beam_search",
            "scorer_id": "entropy",
            "name": "Beam Search (ToT) \u00b7 Entropy",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning. Evaluated with Entropy.",
            "run": {
              "budget": 4,
              "budget_unit": "node_expansions",
              "used_budget": 3,
              "tokens_used": 1174,
              "latency_ms": 6899,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "beam_search",
                "name": "Beam Search (ToT)",
                "family": "tree_search"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "beam_search_entropy_selected",
                "confidence": 0.8382266048106755,
                "uncertainty": 0.16177339518932454,
                "quality_score": 0.7833333333333333,
                "selection_reason": "Beam Search (ToT) selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Depth-1 tree expansion",
                  "stage": "tree_expand",
                  "decision": {
                    "action": "stop",
                    "reason": "Expansion budget exhausted."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.6098337419343729,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "entropy",
                      "value": 0.2680871954421089,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_entropy_t1",
                      "label": "Node A",
                      "text": "Promising branch trending toward 19.",
                      "answer": "",
                      "status": "kept",
                      "selected": true,
                      "signals": {
                        "entropy": 0.2617733951893245,
                        "value": 0.6098337419343729,
                        "depth": 1
                      }
                    },
                    {
                      "id": "beam_search_entropy_t2",
                      "label": "Node B",
                      "text": "Weak branch drifting toward 17.",
                      "answer": "",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "entropy": 0.3817733951893245,
                        "value": 0.4298337419343729,
                        "depth": 1
                      }
                    }
                  ]
                }
              ],
              "tree": {
                "nodes": [
                  {
                    "id": "beam_search_entropy_n1",
                    "label": "Root",
                    "value": 0.48508508318949856,
                    "depth": 0,
                    "x": 0.5,
                    "y": 0.14
                  },
                  {
                    "id": "beam_search_entropy_n2",
                    "label": "A",
                    "value": 0.6682266048106754,
                    "depth": 1,
                    "x": 0.24,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_entropy_n3",
                    "label": "B",
                    "value": 0.7582266048106755,
                    "depth": 1,
                    "x": 0.52,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_entropy_n4",
                    "label": "C",
                    "value": 0.5982266048106755,
                    "depth": 1,
                    "x": 0.8,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_entropy_n5",
                    "label": "B2",
                    "value": 0.8382266048106755,
                    "depth": 2,
                    "x": 0.52,
                    "y": 0.82
                  }
                ],
                "edges": [
                  {
                    "source": "beam_search_entropy_n1",
                    "target": "beam_search_entropy_n2"
                  },
                  {
                    "source": "beam_search_entropy_n1",
                    "target": "beam_search_entropy_n3"
                  },
                  {
                    "source": "beam_search_entropy_n1",
                    "target": "beam_search_entropy_n4"
                  },
                  {
                    "source": "beam_search_entropy_n3",
                    "target": "beam_search_entropy_n5"
                  }
                ],
                "selected_path": [
                  "beam_search_entropy_n1",
                  "beam_search_entropy_n3",
                  "beam_search_entropy_n5"
                ]
              }
            },
            "comparison_rank": 7
          },
          {
            "id": "online_best_of_n__prm",
            "strategy_id": "online_best_of_n",
            "scorer_id": "prm",
            "name": "Online Best-of-N \u00b7 PRM",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking. Evaluated with PRM.",
            "run": {
              "budget": 4,
              "budget_unit": "candidate_rollouts",
              "used_budget": 3,
              "tokens_used": 1089,
              "latency_ms": 6926,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "online_best_of_n",
                "name": "Online Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "online_best_of_n_prm_selected",
                "confidence": 0.9054513991042499,
                "uncertainty": 0.09454860089575012,
                "quality_score": 0.8233333333333334,
                "selection_reason": "Online Best-of-N selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "rerank",
                    "reason": "Select best candidate from current pool."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.07604590648979637,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "prm",
                      "value": 0.8375347645814039,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_prm_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.8554513991042498,
                        "rerank_score": 0.8654513991042498
                      }
                    },
                    {
                      "id": "online_best_of_n_prm_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 17.",
                      "answer": "17",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "prm": 0.6854513991042499,
                        "rerank_score": 0.6954513991042499
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 2
          },
          {
            "id": "online_best_of_n__sequence_prob",
            "strategy_id": "online_best_of_n",
            "scorer_id": "sequence_prob",
            "name": "Online Best-of-N \u00b7 Sequence Prob",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking. Evaluated with Sequence Prob.",
            "run": {
              "budget": 4,
              "budget_unit": "candidate_rollouts",
              "used_budget": 3,
              "tokens_used": 1132,
              "latency_ms": 6842,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "online_best_of_n",
                "name": "Online Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "16",
                "is_correct": false,
                "selected_trajectory": "online_best_of_n_sequence_prob_selected",
                "confidence": 0.5058486716098699,
                "uncertainty": 0.4941513283901301,
                "quality_score": 0.6033333333333334,
                "selection_reason": "Online Best-of-N selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "rerank",
                    "reason": "Select best candidate from current pool."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.06571514406787765,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.42670774347243945,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_sequence_prob_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 16.",
                      "answer": "16",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.4558486716098699,
                        "rerank_score": 0.4658486716098699
                      }
                    },
                    {
                      "id": "online_best_of_n_sequence_prob_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 17.",
                      "answer": "17",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.28584867160986993,
                        "rerank_score": 0.29584867160986994
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 13
          },
          {
            "id": "online_best_of_n__perplexity",
            "strategy_id": "online_best_of_n",
            "scorer_id": "perplexity",
            "name": "Online Best-of-N \u00b7 Perplexity",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking. Evaluated with Perplexity.",
            "run": {
              "budget": 4,
              "budget_unit": "candidate_rollouts",
              "used_budget": 3,
              "tokens_used": 1180,
              "latency_ms": 7118,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "online_best_of_n",
                "name": "Online Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "online_best_of_n_perplexity_selected",
                "confidence": 0.8559490620958112,
                "uncertainty": 0.14405093790418877,
                "quality_score": 0.7833333333333333,
                "selection_reason": "Online Best-of-N selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "rerank",
                    "reason": "Select best candidate from current pool."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.06407314359164266,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "perplexity",
                      "value": 0.2141790762278477,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_perplexity_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.1940509379041888,
                        "rerank_score": 0.8159490620958112
                      }
                    },
                    {
                      "id": "online_best_of_n_perplexity_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 21.",
                      "answer": "21",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.36405093790418874,
                        "rerank_score": 0.6459490620958113
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 8
          },
          {
            "id": "online_best_of_n__entropy",
            "strategy_id": "online_best_of_n",
            "scorer_id": "entropy",
            "name": "Online Best-of-N \u00b7 Entropy",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking. Evaluated with Entropy.",
            "run": {
              "budget": 4,
              "budget_unit": "candidate_rollouts",
              "used_budget": 3,
              "tokens_used": 1098,
              "latency_ms": 7739,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "online_best_of_n",
                "name": "Online Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "online_best_of_n_entropy_selected",
                "confidence": 0.8263785871337647,
                "uncertainty": 0.17362141286623534,
                "quality_score": 0.7733333333333333,
                "selection_reason": "Online Best-of-N selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "rerank",
                    "reason": "Select best candidate from current pool."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.0730208651150655,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "entropy",
                      "value": 0.22777376053413734,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_entropy_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.22362141286623538,
                        "rerank_score": 0.7863785871337646
                      }
                    },
                    {
                      "id": "online_best_of_n_entropy_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 20.",
                      "answer": "20",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "entropy": 0.3936214128662353,
                        "rerank_score": 0.6163785871337647
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 9
          },
          {
            "id": "offline_best_of_n__prm",
            "strategy_id": "offline_best_of_n",
            "scorer_id": "prm",
            "name": "Offline Best-of-N \u00b7 PRM",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end. Evaluated with PRM.",
            "run": {
              "budget": 4,
              "budget_unit": "candidate_rollouts",
              "used_budget": 3,
              "tokens_used": 1102,
              "latency_ms": 6808,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "offline_best_of_n",
                "name": "Offline Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "18",
                "is_correct": false,
                "selected_trajectory": "offline_best_of_n_prm_selected",
                "confidence": 0.5451053090836977,
                "uncertainty": 0.4548946909163023,
                "quality_score": 0.6033333333333334,
                "selection_reason": "Offline Best-of-N selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "rerank",
                    "reason": "Select best candidate from current pool."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.12458889562926076,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "prm",
                      "value": 0.45637040278094315,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_prm_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.4951053090836977,
                        "rerank_score": 0.5051053090836977
                      }
                    },
                    {
                      "id": "offline_best_of_n_prm_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 18.",
                      "answer": "18",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "prm": 0.3251053090836977,
                        "rerank_score": 0.33510530908369773
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 14
          },
          {
            "id": "offline_best_of_n__sequence_prob",
            "strategy_id": "offline_best_of_n",
            "scorer_id": "sequence_prob",
            "name": "Offline Best-of-N \u00b7 Sequence Prob",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end. Evaluated with Sequence Prob.",
            "run": {
              "budget": 4,
              "budget_unit": "candidate_rollouts",
              "used_budget": 3,
              "tokens_used": 1104,
              "latency_ms": 6992,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "offline_best_of_n",
                "name": "Offline Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "15",
                "is_correct": false,
                "selected_trajectory": "offline_best_of_n_sequence_prob_selected",
                "confidence": 0.47498617813228333,
                "uncertainty": 0.5250138218677167,
                "quality_score": 0.5833333333333334,
                "selection_reason": "Offline Best-of-N selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "rerank",
                    "reason": "Select best candidate from current pool."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.07464374750974886,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.4020715376526526,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_sequence_prob_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 15.",
                      "answer": "15",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.42498617813228334,
                        "rerank_score": 0.43498617813228335
                      }
                    },
                    {
                      "id": "offline_best_of_n_sequence_prob_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 23.",
                      "answer": "23",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.2549861781322833,
                        "rerank_score": 0.2649861781322833
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 15
          },
          {
            "id": "offline_best_of_n__perplexity",
            "strategy_id": "offline_best_of_n",
            "scorer_id": "perplexity",
            "name": "Offline Best-of-N \u00b7 Perplexity",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end. Evaluated with Perplexity.",
            "run": {
              "budget": 4,
              "budget_unit": "candidate_rollouts",
              "used_budget": 3,
              "tokens_used": 1143,
              "latency_ms": 6726,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "offline_best_of_n",
                "name": "Offline Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "18",
                "is_correct": false,
                "selected_trajectory": "offline_best_of_n_perplexity_selected",
                "confidence": 0.5057846939777466,
                "uncertainty": 0.4942153060222534,
                "quality_score": 0.5633333333333334,
                "selection_reason": "Offline Best-of-N selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "rerank",
                    "reason": "Select best candidate from current pool."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.04455019754533293,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "perplexity",
                      "value": 0.5646677832526577,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_perplexity_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.5442153060222534,
                        "rerank_score": 0.46578469397774663
                      }
                    },
                    {
                      "id": "offline_best_of_n_perplexity_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 22.",
                      "answer": "22",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.7142153060222534,
                        "rerank_score": 0.29578469397774665
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 17
          },
          {
            "id": "offline_best_of_n__entropy",
            "strategy_id": "offline_best_of_n",
            "scorer_id": "entropy",
            "name": "Offline Best-of-N \u00b7 Entropy",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end. Evaluated with Entropy.",
            "run": {
              "budget": 4,
              "budget_unit": "candidate_rollouts",
              "used_budget": 3,
              "tokens_used": 1097,
              "latency_ms": 6632,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "offline_best_of_n",
                "name": "Offline Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "22",
                "is_correct": false,
                "selected_trajectory": "offline_best_of_n_entropy_selected",
                "confidence": 0.47638689122169803,
                "uncertainty": 0.523613108778302,
                "quality_score": 0.5533333333333333,
                "selection_reason": "Offline Best-of-N selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "rerank",
                    "reason": "Select best candidate from current pool."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.06780937102319555,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "entropy",
                      "value": 0.5939235219684341,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_entropy_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 22.",
                      "answer": "22",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.573613108778302,
                        "rerank_score": 0.43638689122169805
                      }
                    },
                    {
                      "id": "offline_best_of_n_entropy_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 20.",
                      "answer": "20",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "entropy": 0.743613108778302,
                        "rerank_score": 0.266386891221698
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 19
          },
          {
            "id": "self_consistency__prm",
            "strategy_id": "self_consistency",
            "scorer_id": "prm",
            "name": "Self-Consistency \u00b7 PRM",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus. Evaluated with PRM.",
            "run": {
              "budget": 4,
              "budget_unit": "paths",
              "used_budget": 4,
              "tokens_used": 1095,
              "latency_ms": 7416,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "self_consistency",
                "name": "Self-Consistency",
                "family": "sample_and_vote"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "self_consistency_prm_selected",
                "confidence": 0.8586757973339633,
                "uncertainty": 0.14132420266603674,
                "quality_score": 0.8133333333333334,
                "selection_reason": "Self-Consistency selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Warmup trajectory sampling",
                  "stage": "sampling",
                  "decision": {
                    "action": "stop",
                    "reason": "Sampling budget exhausted."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.5367568432237911,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "prm",
                      "value": 0.7866939136800893,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_prm_p1",
                      "label": "Path 1",
                      "text": "Candidate path predicts 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.8186757973339632,
                        "path_score": 0.8086757973339632
                      }
                    },
                    {
                      "id": "self_consistency_prm_p2",
                      "label": "Path 2",
                      "text": "Competing path predicts 15.",
                      "answer": "15",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "prm": 0.6586757973339632,
                        "path_score": 0.6786757973339632
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 4
          },
          {
            "id": "self_consistency__sequence_prob",
            "strategy_id": "self_consistency",
            "scorer_id": "sequence_prob",
            "name": "Self-Consistency \u00b7 Sequence Prob",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus. Evaluated with Sequence Prob.",
            "run": {
              "budget": 4,
              "budget_unit": "paths",
              "used_budget": 4,
              "tokens_used": 1114,
              "latency_ms": 6750,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "self_consistency",
                "name": "Self-Consistency",
                "family": "sample_and_vote"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "self_consistency_sequence_prob_selected",
                "confidence": 0.8405831402081246,
                "uncertainty": 0.15941685979187536,
                "quality_score": 0.7933333333333333,
                "selection_reason": "Self-Consistency selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Warmup trajectory sampling",
                  "stage": "sampling",
                  "decision": {
                    "action": "stop",
                    "reason": "Sampling budget exhausted."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.4729193602335494,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.722685843542129,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_sequence_prob_p1",
                      "label": "Path 1",
                      "text": "Candidate path predicts 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.8005831402081246,
                        "path_score": 0.7905831402081246
                      }
                    },
                    {
                      "id": "self_consistency_sequence_prob_p2",
                      "label": "Path 2",
                      "text": "Competing path predicts 22.",
                      "answer": "22",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.6405831402081246,
                        "path_score": 0.6605831402081246
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 6
          },
          {
            "id": "self_consistency__perplexity",
            "strategy_id": "self_consistency",
            "scorer_id": "perplexity",
            "name": "Self-Consistency \u00b7 Perplexity",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus. Evaluated with Perplexity.",
            "run": {
              "budget": 4,
              "budget_unit": "paths",
              "used_budget": 4,
              "tokens_used": 1145,
              "latency_ms": 7187,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "self_consistency",
                "name": "Self-Consistency",
                "family": "sample_and_vote"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "18",
                "is_correct": false,
                "selected_trajectory": "self_consistency_perplexity_selected",
                "confidence": 0.5175663548772794,
                "uncertainty": 0.4824336451227206,
                "quality_score": 0.5733333333333334,
                "selection_reason": "Self-Consistency selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Warmup trajectory sampling",
                  "stage": "sampling",
                  "decision": {
                    "action": "stop",
                    "reason": "Sampling budget exhausted."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.48420129986798044,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "perplexity",
                      "value": 0.5921137328190886,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_perplexity_p1",
                      "label": "Path 1",
                      "text": "Candidate path predicts 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.5224336451227205,
                        "path_score": 0.46756635487727943
                      }
                    },
                    {
                      "id": "self_consistency_perplexity_p2",
                      "label": "Path 2",
                      "text": "Competing path predicts 22.",
                      "answer": "22",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.6824336451227206,
                        "path_score": 0.33756635487727943
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 16
          },
          {
            "id": "self_consistency__entropy",
            "strategy_id": "self_consistency",
            "scorer_id": "entropy",
            "name": "Self-Consistency \u00b7 Entropy",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus. Evaluated with Entropy.",
            "run": {
              "budget": 4,
              "budget_unit": "paths",
              "used_budget": 4,
              "tokens_used": 1044,
              "latency_ms": 7734,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "self_consistency",
                "name": "Self-Consistency",
                "family": "sample_and_vote"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "16",
                "is_correct": false,
                "selected_trajectory": "self_consistency_entropy_selected",
                "confidence": 0.4738644933397863,
                "uncertainty": 0.5261355066602137,
                "quality_score": 0.5633333333333334,
                "selection_reason": "Self-Consistency selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Warmup trajectory sampling",
                  "stage": "sampling",
                  "decision": {
                    "action": "stop",
                    "reason": "Sampling budget exhausted."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.5526590227560239,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "entropy",
                      "value": 0.6311564155744409,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_entropy_p1",
                      "label": "Path 1",
                      "text": "Candidate path predicts 16.",
                      "answer": "16",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.5661355066602136,
                        "path_score": 0.4238644933397863
                      }
                    },
                    {
                      "id": "self_consistency_entropy_p2",
                      "label": "Path 2",
                      "text": "Competing path predicts 22.",
                      "answer": "22",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "entropy": 0.7261355066602138,
                        "path_score": 0.2938644933397863
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 18
          }
        ]
      },
      "8": {
        "scenario": {
          "id": "prototype_local_demo",
          "title": "Prototype: Shopping Arithmetic",
          "description": "Single-sample matrix with all strategies and scorers for a short arithmetic word problem.",
          "prompt": "Reason step-by-step. Return the final answer in \\boxed{}.\n\nQuestion: A student buys 5 notebooks at $3 each and 2 pens at $2 each. What is the total cost?",
          "ground_truth": "19",
          "shared_prompt": "Reason step-by-step. Return the final answer in \\boxed{}.",
          "input_source": "prototype_dataset",
          "model_config": {
            "provider": "openrouter",
            "model_id": "openai/gpt-4o-mini",
            "api_key_masked": "sk-or...demo"
          },
          "strategy_count": 5,
          "scorer_count": 4,
          "run_count": 20
        },
        "available_budgets": [
          4,
          8,
          12
        ],
        "selected_budget": 8,
        "strategy_catalog": [
          {
            "id": "baseline",
            "name": "Baseline (Raw CoT)",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking."
          },
          {
            "id": "beam_search",
            "name": "Beam Search (ToT)",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning."
          },
          {
            "id": "online_best_of_n",
            "name": "Online Best-of-N",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking."
          },
          {
            "id": "offline_best_of_n",
            "name": "Offline Best-of-N",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end."
          },
          {
            "id": "self_consistency",
            "name": "Self-Consistency",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus."
          }
        ],
        "scorer_catalog": [
          {
            "id": "prm",
            "name": "PRM",
            "direction": "higher_better",
            "threshold": 0.72,
            "summary": "Process Reward Model trajectory quality score."
          },
          {
            "id": "sequence_prob",
            "name": "Sequence Prob",
            "direction": "higher_better",
            "threshold": 0.65,
            "summary": "Cumulative sequence probability from token logprobs."
          },
          {
            "id": "perplexity",
            "name": "Perplexity",
            "direction": "lower_better",
            "threshold": 0.36,
            "summary": "Per-token perplexity estimated from generation logprobs."
          },
          {
            "id": "entropy",
            "name": "Entropy",
            "direction": "lower_better",
            "threshold": 0.34,
            "summary": "Mean token entropy of decoded reasoning steps."
          }
        ],
        "strategies": [
          {
            "id": "baseline__prm",
            "strategy_id": "baseline",
            "scorer_id": "prm",
            "name": "Baseline (Raw CoT) \u00b7 PRM",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking. Evaluated with PRM.",
            "run": {
              "budget": 8,
              "budget_unit": "steps",
              "used_budget": 2,
              "tokens_used": 1434,
              "latency_ms": 9443,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "baseline",
                "name": "Baseline (Raw CoT)",
                "family": "single_pass"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "baseline_prm_selected",
                "confidence": 0.8374905157952667,
                "uncertainty": 0.16250948420473332,
                "quality_score": 0.7466666666666667,
                "selection_reason": "Baseline (Raw CoT) selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Single-pass reasoning generation",
                  "stage": "generation",
                  "decision": {
                    "action": "stop",
                    "reason": "Single-pass baseline emits one chain; scorer evaluates the completed trajectory."
                  },
                  "signals": [
                    {
                      "name": "confidence",
                      "value": 0.8374905157952667,
                      "direction": "higher_better",
                      "threshold": 0.7
                    },
                    {
                      "name": "prm",
                      "value": 0.8374905157952667,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "baseline_prm_c1",
                      "label": "Generated chain",
                      "text": "A student buys 5 notebooks at $3 each and 2 pens at $2 each. What is the total cost? -> predicted answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.8374905157952667,
                        "trajectory_confidence": 0.8374905157952667
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 12
          },
          {
            "id": "baseline__sequence_prob",
            "strategy_id": "baseline",
            "scorer_id": "sequence_prob",
            "name": "Baseline (Raw CoT) \u00b7 Sequence Prob",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking. Evaluated with Sequence Prob.",
            "run": {
              "budget": 8,
              "budget_unit": "steps",
              "used_budget": 2,
              "tokens_used": 1431,
              "latency_ms": 10667,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "baseline",
                "name": "Baseline (Raw CoT)",
                "family": "single_pass"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "baseline_sequence_prob_selected",
                "confidence": 0.8034558897783683,
                "uncertainty": 0.19654411022163165,
                "quality_score": 0.7266666666666667,
                "selection_reason": "Baseline (Raw CoT) selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Single-pass reasoning generation",
                  "stage": "generation",
                  "decision": {
                    "action": "stop",
                    "reason": "Single-pass baseline emits one chain; scorer evaluates the completed trajectory."
                  },
                  "signals": [
                    {
                      "name": "confidence",
                      "value": 0.8034558897783683,
                      "direction": "higher_better",
                      "threshold": 0.7
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.8034558897783683,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "baseline_sequence_prob_c1",
                      "label": "Generated chain",
                      "text": "A student buys 5 notebooks at $3 each and 2 pens at $2 each. What is the total cost? -> predicted answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.8034558897783683,
                        "trajectory_confidence": 0.8034558897783683
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 13
          },
          {
            "id": "baseline__perplexity",
            "strategy_id": "baseline",
            "scorer_id": "perplexity",
            "name": "Baseline (Raw CoT) \u00b7 Perplexity",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking. Evaluated with Perplexity.",
            "run": {
              "budget": 8,
              "budget_unit": "steps",
              "used_budget": 2,
              "tokens_used": 1456,
              "latency_ms": 9982,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "baseline",
                "name": "Baseline (Raw CoT)",
                "family": "single_pass"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "baseline_perplexity_selected",
                "confidence": 0.7525705664140708,
                "uncertainty": 0.24742943358592917,
                "quality_score": 0.7066666666666667,
                "selection_reason": "Baseline (Raw CoT) selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Single-pass reasoning generation",
                  "stage": "generation",
                  "decision": {
                    "action": "stop",
                    "reason": "Single-pass baseline emits one chain; scorer evaluates the completed trajectory."
                  },
                  "signals": [
                    {
                      "name": "confidence",
                      "value": 0.7525705664140708,
                      "direction": "higher_better",
                      "threshold": 0.7
                    },
                    {
                      "name": "perplexity",
                      "value": 0.24742943358592917,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "baseline_perplexity_c1",
                      "label": "Generated chain",
                      "text": "A student buys 5 notebooks at $3 each and 2 pens at $2 each. What is the total cost? -> predicted answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.24742943358592917,
                        "trajectory_confidence": 0.7525705664140708
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 14
          },
          {
            "id": "baseline__entropy",
            "strategy_id": "baseline",
            "scorer_id": "entropy",
            "name": "Baseline (Raw CoT) \u00b7 Entropy",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking. Evaluated with Entropy.",
            "run": {
              "budget": 8,
              "budget_unit": "steps",
              "used_budget": 2,
              "tokens_used": 1424,
              "latency_ms": 9891,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "baseline",
                "name": "Baseline (Raw CoT)",
                "family": "single_pass"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "baseline_entropy_selected",
                "confidence": 0.7503551919046271,
                "uncertainty": 0.24964480809537293,
                "quality_score": 0.6966666666666667,
                "selection_reason": "Baseline (Raw CoT) selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Single-pass reasoning generation",
                  "stage": "generation",
                  "decision": {
                    "action": "stop",
                    "reason": "Single-pass baseline emits one chain; scorer evaluates the completed trajectory."
                  },
                  "signals": [
                    {
                      "name": "confidence",
                      "value": 0.7503551919046271,
                      "direction": "higher_better",
                      "threshold": 0.7
                    },
                    {
                      "name": "entropy",
                      "value": 0.24964480809537293,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "baseline_entropy_c1",
                      "label": "Generated chain",
                      "text": "A student buys 5 notebooks at $3 each and 2 pens at $2 each. What is the total cost? -> predicted answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.24964480809537293,
                        "trajectory_confidence": 0.7503551919046271
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 15
          },
          {
            "id": "beam_search__prm",
            "strategy_id": "beam_search",
            "scorer_id": "prm",
            "name": "Beam Search (ToT) \u00b7 PRM",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning. Evaluated with PRM.",
            "run": {
              "budget": 8,
              "budget_unit": "node_expansions",
              "used_budget": 6,
              "tokens_used": 1453,
              "latency_ms": 9609,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "beam_search",
                "name": "Beam Search (ToT)",
                "family": "tree_search"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "15",
                "is_correct": false,
                "selected_trajectory": "beam_search_prm_selected",
                "confidence": 0.5890852214597285,
                "uncertainty": 0.4109147785402715,
                "quality_score": 0.6666666666666667,
                "selection_reason": "Beam Search (ToT) selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Depth-1 tree expansion",
                  "stage": "tree_expand",
                  "decision": {
                    "action": "continue",
                    "reason": "Need deeper expansion to disambiguate branches."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.5925977175619678,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "prm",
                      "value": 0.47485967444993327,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_prm_t1",
                      "label": "Node A",
                      "text": "Promising branch trending toward 15.",
                      "answer": "",
                      "status": "kept",
                      "selected": true,
                      "signals": {
                        "prm": 0.48908522145972855,
                        "value": 0.5925977175619678,
                        "depth": 1
                      }
                    },
                    {
                      "id": "beam_search_prm_t2",
                      "label": "Node B",
                      "text": "Weak branch drifting toward 22.",
                      "answer": "",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "prm": 0.36908522145972855,
                        "value": 0.4125977175619678,
                        "depth": 1
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Depth-2 selection",
                  "stage": "selection",
                  "decision": {
                    "action": "stop",
                    "reason": "Best branch reached the solve threshold."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.5890852214597285,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "prm",
                      "value": 0.5890852214597285,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_prm_t3",
                      "label": "Node A2",
                      "text": "Selected branch outputs answer 15.",
                      "answer": "15",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.5890852214597285,
                        "value": 0.5890852214597285,
                        "depth": 2
                      }
                    }
                  ]
                }
              ],
              "tree": {
                "nodes": [
                  {
                    "id": "beam_search_prm_n1",
                    "label": "Root",
                    "value": 0.5069967909326644,
                    "depth": 0,
                    "x": 0.5,
                    "y": 0.14
                  },
                  {
                    "id": "beam_search_prm_n2",
                    "label": "A",
                    "value": 0.4190852214597285,
                    "depth": 1,
                    "x": 0.24,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_prm_n3",
                    "label": "B",
                    "value": 0.5090852214597286,
                    "depth": 1,
                    "x": 0.52,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_prm_n4",
                    "label": "C",
                    "value": 0.34908522145972853,
                    "depth": 1,
                    "x": 0.8,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_prm_n5",
                    "label": "B2",
                    "value": 0.5890852214597285,
                    "depth": 2,
                    "x": 0.52,
                    "y": 0.82
                  }
                ],
                "edges": [
                  {
                    "source": "beam_search_prm_n1",
                    "target": "beam_search_prm_n2"
                  },
                  {
                    "source": "beam_search_prm_n1",
                    "target": "beam_search_prm_n3"
                  },
                  {
                    "source": "beam_search_prm_n1",
                    "target": "beam_search_prm_n4"
                  },
                  {
                    "source": "beam_search_prm_n3",
                    "target": "beam_search_prm_n5"
                  }
                ],
                "selected_path": [
                  "beam_search_prm_n1",
                  "beam_search_prm_n3",
                  "beam_search_prm_n5"
                ]
              }
            },
            "comparison_rank": 16
          },
          {
            "id": "beam_search__sequence_prob",
            "strategy_id": "beam_search",
            "scorer_id": "sequence_prob",
            "name": "Beam Search (ToT) \u00b7 Sequence Prob",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning. Evaluated with Sequence Prob.",
            "run": {
              "budget": 8,
              "budget_unit": "node_expansions",
              "used_budget": 7,
              "tokens_used": 1417,
              "latency_ms": 10027,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "beam_search",
                "name": "Beam Search (ToT)",
                "family": "tree_search"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "23",
                "is_correct": false,
                "selected_trajectory": "beam_search_sequence_prob_selected",
                "confidence": 0.5712923335309231,
                "uncertainty": 0.4287076664690769,
                "quality_score": 0.6466666666666667,
                "selection_reason": "Beam Search (ToT) selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Depth-1 tree expansion",
                  "stage": "tree_expand",
                  "decision": {
                    "action": "continue",
                    "reason": "Need deeper expansion to disambiguate branches."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.5935236474914165,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.461961769177415,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_sequence_prob_t1",
                      "label": "Node A",
                      "text": "Promising branch trending toward 23.",
                      "answer": "",
                      "status": "kept",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.47129233353092315,
                        "value": 0.5935236474914165,
                        "depth": 1
                      }
                    },
                    {
                      "id": "beam_search_sequence_prob_t2",
                      "label": "Node B",
                      "text": "Weak branch drifting toward 18.",
                      "answer": "",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.35129233353092315,
                        "value": 0.4135236474914165,
                        "depth": 1
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Depth-2 selection",
                  "stage": "selection",
                  "decision": {
                    "action": "stop",
                    "reason": "Best branch reached the solve threshold."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.5712923335309231,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.5712923335309231,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_sequence_prob_t3",
                      "label": "Node A2",
                      "text": "Selected branch outputs answer 23.",
                      "answer": "23",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.5712923335309231,
                        "value": 0.5712923335309231,
                        "depth": 2
                      }
                    }
                  ]
                }
              ],
              "tree": {
                "nodes": [
                  {
                    "id": "beam_search_sequence_prob_n1",
                    "label": "Root",
                    "value": 0.5006613905322032,
                    "depth": 0,
                    "x": 0.5,
                    "y": 0.14
                  },
                  {
                    "id": "beam_search_sequence_prob_n2",
                    "label": "A",
                    "value": 0.4012923335309231,
                    "depth": 1,
                    "x": 0.24,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_sequence_prob_n3",
                    "label": "B",
                    "value": 0.4912923335309231,
                    "depth": 1,
                    "x": 0.52,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_sequence_prob_n4",
                    "label": "C",
                    "value": 0.33129233353092313,
                    "depth": 1,
                    "x": 0.8,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_sequence_prob_n5",
                    "label": "B2",
                    "value": 0.5712923335309231,
                    "depth": 2,
                    "x": 0.52,
                    "y": 0.82
                  }
                ],
                "edges": [
                  {
                    "source": "beam_search_sequence_prob_n1",
                    "target": "beam_search_sequence_prob_n2"
                  },
                  {
                    "source": "beam_search_sequence_prob_n1",
                    "target": "beam_search_sequence_prob_n3"
                  },
                  {
                    "source": "beam_search_sequence_prob_n1",
                    "target": "beam_search_sequence_prob_n4"
                  },
                  {
                    "source": "beam_search_sequence_prob_n3",
                    "target": "beam_search_sequence_prob_n5"
                  }
                ],
                "selected_path": [
                  "beam_search_sequence_prob_n1",
                  "beam_search_sequence_prob_n3",
                  "beam_search_sequence_prob_n5"
                ]
              }
            },
            "comparison_rank": 18
          },
          {
            "id": "beam_search__perplexity",
            "strategy_id": "beam_search",
            "scorer_id": "perplexity",
            "name": "Beam Search (ToT) \u00b7 Perplexity",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning. Evaluated with Perplexity.",
            "run": {
              "budget": 8,
              "budget_unit": "node_expansions",
              "used_budget": 6,
              "tokens_used": 1554,
              "latency_ms": 10444,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "beam_search",
                "name": "Beam Search (ToT)",
                "family": "tree_search"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "beam_search_perplexity_selected",
                "confidence": 0.9138627867225326,
                "uncertainty": 0.08613721327746737,
                "quality_score": 0.8266666666666667,
                "selection_reason": "Beam Search (ToT) selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Depth-1 tree expansion",
                  "stage": "tree_expand",
                  "decision": {
                    "action": "continue",
                    "reason": "Need deeper expansion to disambiguate branches."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.6177357318228833,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "perplexity",
                      "value": 0.15978249078776385,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_perplexity_t1",
                      "label": "Node A",
                      "text": "Promising branch trending toward 19.",
                      "answer": "",
                      "status": "kept",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.18613721327746735,
                        "value": 0.6177357318228833,
                        "depth": 1
                      }
                    },
                    {
                      "id": "beam_search_perplexity_t2",
                      "label": "Node B",
                      "text": "Weak branch drifting toward 15.",
                      "answer": "",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.30613721327746735,
                        "value": 0.43773573182288333,
                        "depth": 1
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Depth-2 selection",
                  "stage": "selection",
                  "decision": {
                    "action": "stop",
                    "reason": "Best branch reached the solve threshold."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.9138627867225326,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "perplexity",
                      "value": 0.08613721327746737,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_perplexity_t3",
                      "label": "Node A2",
                      "text": "Selected branch outputs answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.08613721327746737,
                        "value": 0.9138627867225326,
                        "depth": 2
                      }
                    }
                  ]
                }
              ],
              "tree": {
                "nodes": [
                  {
                    "id": "beam_search_perplexity_n1",
                    "label": "Root",
                    "value": 0.505342946328932,
                    "depth": 0,
                    "x": 0.5,
                    "y": 0.14
                  },
                  {
                    "id": "beam_search_perplexity_n2",
                    "label": "A",
                    "value": 0.7438627867225326,
                    "depth": 1,
                    "x": 0.24,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_perplexity_n3",
                    "label": "B",
                    "value": 0.8338627867225327,
                    "depth": 1,
                    "x": 0.52,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_perplexity_n4",
                    "label": "C",
                    "value": 0.6738627867225326,
                    "depth": 1,
                    "x": 0.8,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_perplexity_n5",
                    "label": "B2",
                    "value": 0.9138627867225326,
                    "depth": 2,
                    "x": 0.52,
                    "y": 0.82
                  }
                ],
                "edges": [
                  {
                    "source": "beam_search_perplexity_n1",
                    "target": "beam_search_perplexity_n2"
                  },
                  {
                    "source": "beam_search_perplexity_n1",
                    "target": "beam_search_perplexity_n3"
                  },
                  {
                    "source": "beam_search_perplexity_n1",
                    "target": "beam_search_perplexity_n4"
                  },
                  {
                    "source": "beam_search_perplexity_n3",
                    "target": "beam_search_perplexity_n5"
                  }
                ],
                "selected_path": [
                  "beam_search_perplexity_n1",
                  "beam_search_perplexity_n3",
                  "beam_search_perplexity_n5"
                ]
              }
            },
            "comparison_rank": 4
          },
          {
            "id": "beam_search__entropy",
            "strategy_id": "beam_search",
            "scorer_id": "entropy",
            "name": "Beam Search (ToT) \u00b7 Entropy",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning. Evaluated with Entropy.",
            "run": {
              "budget": 8,
              "budget_unit": "node_expansions",
              "used_budget": 5,
              "tokens_used": 1477,
              "latency_ms": 10624,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "beam_search",
                "name": "Beam Search (ToT)",
                "family": "tree_search"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "beam_search_entropy_selected",
                "confidence": 0.9075071067360183,
                "uncertainty": 0.09249289326398169,
                "quality_score": 0.8166666666666667,
                "selection_reason": "Beam Search (ToT) selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Depth-1 tree expansion",
                  "stage": "tree_expand",
                  "decision": {
                    "action": "continue",
                    "reason": "Need deeper expansion to disambiguate branches."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.6881586443716471,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "entropy",
                      "value": 0.16531638439551766,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_entropy_t1",
                      "label": "Node A",
                      "text": "Promising branch trending toward 19.",
                      "answer": "",
                      "status": "kept",
                      "selected": true,
                      "signals": {
                        "entropy": 0.19249289326398167,
                        "value": 0.6881586443716471,
                        "depth": 1
                      }
                    },
                    {
                      "id": "beam_search_entropy_t2",
                      "label": "Node B",
                      "text": "Weak branch drifting toward 16.",
                      "answer": "",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "entropy": 0.31249289326398166,
                        "value": 0.508158644371647,
                        "depth": 1
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Depth-2 selection",
                  "stage": "selection",
                  "decision": {
                    "action": "stop",
                    "reason": "Best branch reached the solve threshold."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.9075071067360183,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "entropy",
                      "value": 0.09249289326398169,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_entropy_t3",
                      "label": "Node A2",
                      "text": "Selected branch outputs answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.09249289326398169,
                        "value": 0.9075071067360183,
                        "depth": 2
                      }
                    }
                  ]
                }
              ],
              "tree": {
                "nodes": [
                  {
                    "id": "beam_search_entropy_n1",
                    "label": "Root",
                    "value": 0.4782284821149331,
                    "depth": 0,
                    "x": 0.5,
                    "y": 0.14
                  },
                  {
                    "id": "beam_search_entropy_n2",
                    "label": "A",
                    "value": 0.7375071067360183,
                    "depth": 1,
                    "x": 0.24,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_entropy_n3",
                    "label": "B",
                    "value": 0.8275071067360183,
                    "depth": 1,
                    "x": 0.52,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_entropy_n4",
                    "label": "C",
                    "value": 0.6675071067360183,
                    "depth": 1,
                    "x": 0.8,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_entropy_n5",
                    "label": "B2",
                    "value": 0.9075071067360183,
                    "depth": 2,
                    "x": 0.52,
                    "y": 0.82
                  }
                ],
                "edges": [
                  {
                    "source": "beam_search_entropy_n1",
                    "target": "beam_search_entropy_n2"
                  },
                  {
                    "source": "beam_search_entropy_n1",
                    "target": "beam_search_entropy_n3"
                  },
                  {
                    "source": "beam_search_entropy_n1",
                    "target": "beam_search_entropy_n4"
                  },
                  {
                    "source": "beam_search_entropy_n3",
                    "target": "beam_search_entropy_n5"
                  }
                ],
                "selected_path": [
                  "beam_search_entropy_n1",
                  "beam_search_entropy_n3",
                  "beam_search_entropy_n5"
                ]
              }
            },
            "comparison_rank": 6
          },
          {
            "id": "online_best_of_n__prm",
            "strategy_id": "online_best_of_n",
            "scorer_id": "prm",
            "name": "Online Best-of-N \u00b7 PRM",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking. Evaluated with PRM.",
            "run": {
              "budget": 8,
              "budget_unit": "candidate_rollouts",
              "used_budget": 6,
              "tokens_used": 1413,
              "latency_ms": 9559,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "online_best_of_n",
                "name": "Online Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "21",
                "is_correct": false,
                "selected_trajectory": "online_best_of_n_prm_selected",
                "confidence": 0.6031867791834344,
                "uncertainty": 0.39681322081656556,
                "quality_score": 0.6566666666666667,
                "selection_reason": "Online Best-of-N selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "escalate",
                    "reason": "Top-2 score gap is narrow, request more candidates."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.033750565243359704,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "prm",
                      "value": 0.5456931673778381,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_prm_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 21.",
                      "answer": "21",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "prm": 0.5531867791834344,
                        "rerank_score": 0.5631867791834344
                      }
                    },
                    {
                      "id": "online_best_of_n_prm_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 23.",
                      "answer": "23",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "prm": 0.38318677918343447,
                        "rerank_score": 0.3931867791834345
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated reranking",
                  "stage": "reranking",
                  "decision": {
                    "action": "stop",
                    "reason": "Rerank confidence stabilized after escalation."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.1137505652433597,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "prm",
                      "value": 0.6031867791834344,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_prm_r3",
                      "label": "Candidate 3",
                      "text": "Escalated candidate selected with answer 21.",
                      "answer": "21",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.6031867791834344,
                        "rerank_score": 0.6031867791834344
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 17
          },
          {
            "id": "online_best_of_n__sequence_prob",
            "strategy_id": "online_best_of_n",
            "scorer_id": "sequence_prob",
            "name": "Online Best-of-N \u00b7 Sequence Prob",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking. Evaluated with Sequence Prob.",
            "run": {
              "budget": 8,
              "budget_unit": "candidate_rollouts",
              "used_budget": 6,
              "tokens_used": 1523,
              "latency_ms": 10264,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "online_best_of_n",
                "name": "Online Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "online_best_of_n_sequence_prob_selected",
                "confidence": 0.9073375115050367,
                "uncertainty": 0.09266248849496328,
                "quality_score": 0.8366666666666667,
                "selection_reason": "Online Best-of-N selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "escalate",
                    "reason": "Top-2 score gap is narrow, request more candidates."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.12290370860436198,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.8365584248765677,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_sequence_prob_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 19.",
                      "answer": "19",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.8573375115050367,
                        "rerank_score": 0.8673375115050367
                      }
                    },
                    {
                      "id": "online_best_of_n_sequence_prob_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 21.",
                      "answer": "21",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.6873375115050367,
                        "rerank_score": 0.6973375115050368
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated reranking",
                  "stage": "reranking",
                  "decision": {
                    "action": "stop",
                    "reason": "Rerank confidence stabilized after escalation."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.20290370860436197,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.9073375115050367,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_sequence_prob_r3",
                      "label": "Candidate 3",
                      "text": "Escalated candidate selected with answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.9073375115050367,
                        "rerank_score": 0.9073375115050367
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 2
          },
          {
            "id": "online_best_of_n__perplexity",
            "strategy_id": "online_best_of_n",
            "scorer_id": "perplexity",
            "name": "Online Best-of-N \u00b7 Perplexity",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking. Evaluated with Perplexity.",
            "run": {
              "budget": 8,
              "budget_unit": "candidate_rollouts",
              "used_budget": 7,
              "tokens_used": 1558,
              "latency_ms": 10319,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "online_best_of_n",
                "name": "Online Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "online_best_of_n_perplexity_selected",
                "confidence": 0.8840535827284265,
                "uncertainty": 0.11594641727157351,
                "quality_score": 0.8166666666666667,
                "selection_reason": "Online Best-of-N selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "escalate",
                    "reason": "Top-2 score gap is narrow, request more candidates."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.11523708659317357,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "perplexity",
                      "value": 0.19713997794848215,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_perplexity_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 19.",
                      "answer": "19",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.16594641727157355,
                        "rerank_score": 0.8440535827284265
                      }
                    },
                    {
                      "id": "online_best_of_n_perplexity_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 17.",
                      "answer": "17",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.3359464172715735,
                        "rerank_score": 0.6740535827284265
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated reranking",
                  "stage": "reranking",
                  "decision": {
                    "action": "stop",
                    "reason": "Rerank confidence stabilized after escalation."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.19523708659317357,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "perplexity",
                      "value": 0.11594641727157351,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_perplexity_r3",
                      "label": "Candidate 3",
                      "text": "Escalated candidate selected with answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.11594641727157351,
                        "rerank_score": 0.8840535827284265
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 7
          },
          {
            "id": "online_best_of_n__entropy",
            "strategy_id": "online_best_of_n",
            "scorer_id": "entropy",
            "name": "Online Best-of-N \u00b7 Entropy",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking. Evaluated with Entropy.",
            "run": {
              "budget": 8,
              "budget_unit": "candidate_rollouts",
              "used_budget": 7,
              "tokens_used": 1491,
              "latency_ms": 9758,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "online_best_of_n",
                "name": "Online Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "online_best_of_n_entropy_selected",
                "confidence": 0.8515548313697568,
                "uncertainty": 0.14844516863024315,
                "quality_score": 0.8066666666666666,
                "selection_reason": "Online Best-of-N selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "escalate",
                    "reason": "Top-2 score gap is narrow, request more candidates."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.09832709143750419,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "entropy",
                      "value": 0.22514246824746764,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_entropy_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 19.",
                      "answer": "19",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "entropy": 0.1984451686302432,
                        "rerank_score": 0.8115548313697568
                      }
                    },
                    {
                      "id": "online_best_of_n_entropy_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 21.",
                      "answer": "21",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "entropy": 0.3684451686302431,
                        "rerank_score": 0.6415548313697569
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated reranking",
                  "stage": "reranking",
                  "decision": {
                    "action": "stop",
                    "reason": "Rerank confidence stabilized after escalation."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.1783270914375042,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "entropy",
                      "value": 0.14844516863024315,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_entropy_r3",
                      "label": "Candidate 3",
                      "text": "Escalated candidate selected with answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.14844516863024315,
                        "rerank_score": 0.8515548313697568
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 9
          },
          {
            "id": "offline_best_of_n__prm",
            "strategy_id": "offline_best_of_n",
            "scorer_id": "prm",
            "name": "Offline Best-of-N \u00b7 PRM",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end. Evaluated with PRM.",
            "run": {
              "budget": 8,
              "budget_unit": "candidate_rollouts",
              "used_budget": 6,
              "tokens_used": 1459,
              "latency_ms": 10924,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "offline_best_of_n",
                "name": "Offline Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "offline_best_of_n_prm_selected",
                "confidence": 0.9289747891704726,
                "uncertainty": 0.0710252108295274,
                "quality_score": 0.8366666666666667,
                "selection_reason": "Offline Best-of-N selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "escalate",
                    "reason": "Top-2 score gap is narrow, request more candidates."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.05924618930686802,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "prm",
                      "value": 0.8637717001001942,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_prm_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 19.",
                      "answer": "19",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "prm": 0.8789747891704726,
                        "rerank_score": 0.8889747891704726
                      }
                    },
                    {
                      "id": "offline_best_of_n_prm_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 21.",
                      "answer": "21",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "prm": 0.7089747891704726,
                        "rerank_score": 0.7189747891704726
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated reranking",
                  "stage": "reranking",
                  "decision": {
                    "action": "stop",
                    "reason": "Rerank confidence stabilized after escalation."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.13924618930686802,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "prm",
                      "value": 0.9289747891704726,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_prm_r3",
                      "label": "Candidate 3",
                      "text": "Escalated candidate selected with answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.9289747891704726,
                        "rerank_score": 0.9289747891704726
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 3
          },
          {
            "id": "offline_best_of_n__sequence_prob",
            "strategy_id": "offline_best_of_n",
            "scorer_id": "sequence_prob",
            "name": "Offline Best-of-N \u00b7 Sequence Prob",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end. Evaluated with Sequence Prob.",
            "run": {
              "budget": 8,
              "budget_unit": "candidate_rollouts",
              "used_budget": 6,
              "tokens_used": 1517,
              "latency_ms": 9413,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "offline_best_of_n",
                "name": "Offline Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "offline_best_of_n_sequence_prob_selected",
                "confidence": 0.8997276329927882,
                "uncertainty": 0.10027236700721176,
                "quality_score": 0.8166666666666667,
                "selection_reason": "Offline Best-of-N selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "escalate",
                    "reason": "Top-2 score gap is narrow, request more candidates."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.10281112960202458,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.8190086038707657,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_sequence_prob_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 19.",
                      "answer": "19",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.8497276329927882,
                        "rerank_score": 0.8597276329927882
                      }
                    },
                    {
                      "id": "offline_best_of_n_sequence_prob_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 16.",
                      "answer": "16",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.6797276329927883,
                        "rerank_score": 0.6897276329927883
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated reranking",
                  "stage": "reranking",
                  "decision": {
                    "action": "stop",
                    "reason": "Rerank confidence stabilized after escalation."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.18281112960202459,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.8997276329927882,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_sequence_prob_r3",
                      "label": "Candidate 3",
                      "text": "Escalated candidate selected with answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.8997276329927882,
                        "rerank_score": 0.8997276329927882
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 8
          },
          {
            "id": "offline_best_of_n__perplexity",
            "strategy_id": "offline_best_of_n",
            "scorer_id": "perplexity",
            "name": "Offline Best-of-N \u00b7 Perplexity",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end. Evaluated with Perplexity.",
            "run": {
              "budget": 8,
              "budget_unit": "candidate_rollouts",
              "used_budget": 7,
              "tokens_used": 1395,
              "latency_ms": 10731,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "offline_best_of_n",
                "name": "Offline Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "20",
                "is_correct": false,
                "selected_trajectory": "offline_best_of_n_perplexity_selected",
                "confidence": 0.49410835499849826,
                "uncertainty": 0.5058916450015017,
                "quality_score": 0.5966666666666667,
                "selection_reason": "Offline Best-of-N selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "escalate",
                    "reason": "Top-2 score gap is narrow, request more candidates."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.11462818076347338,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "perplexity",
                      "value": 0.5702964903740592,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_perplexity_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 20.",
                      "answer": "20",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.5558916450015017,
                        "rerank_score": 0.4541083549984983
                      }
                    },
                    {
                      "id": "offline_best_of_n_perplexity_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 23.",
                      "answer": "23",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.7258916450015017,
                        "rerank_score": 0.2841083549984983
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated reranking",
                  "stage": "reranking",
                  "decision": {
                    "action": "stop",
                    "reason": "Rerank confidence stabilized after escalation."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.19462818076347338,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "perplexity",
                      "value": 0.5058916450015017,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_perplexity_r3",
                      "label": "Candidate 3",
                      "text": "Escalated candidate selected with answer 20.",
                      "answer": "20",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.5058916450015017,
                        "rerank_score": 0.49410835499849826
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 20
          },
          {
            "id": "offline_best_of_n__entropy",
            "strategy_id": "offline_best_of_n",
            "scorer_id": "entropy",
            "name": "Offline Best-of-N \u00b7 Entropy",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end. Evaluated with Entropy.",
            "run": {
              "budget": 8,
              "budget_unit": "candidate_rollouts",
              "used_budget": 6,
              "tokens_used": 1517,
              "latency_ms": 10799,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "offline_best_of_n",
                "name": "Offline Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "offline_best_of_n_entropy_selected",
                "confidence": 0.8443692784174122,
                "uncertainty": 0.15563072158258784,
                "quality_score": 0.7866666666666666,
                "selection_reason": "Offline Best-of-N selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "escalate",
                    "reason": "Top-2 score gap is narrow, request more candidates."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.05034907728127309,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "entropy",
                      "value": 0.22877726641076335,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_entropy_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 19.",
                      "answer": "19",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "entropy": 0.20563072158258788,
                        "rerank_score": 0.8043692784174121
                      }
                    },
                    {
                      "id": "offline_best_of_n_entropy_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 20.",
                      "answer": "20",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "entropy": 0.3756307215825878,
                        "rerank_score": 0.6343692784174122
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated reranking",
                  "stage": "reranking",
                  "decision": {
                    "action": "stop",
                    "reason": "Rerank confidence stabilized after escalation."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.1303490772812731,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "entropy",
                      "value": 0.15563072158258784,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_entropy_r3",
                      "label": "Candidate 3",
                      "text": "Escalated candidate selected with answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.15563072158258784,
                        "rerank_score": 0.8443692784174122
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 11
          },
          {
            "id": "self_consistency__prm",
            "strategy_id": "self_consistency",
            "scorer_id": "prm",
            "name": "Self-Consistency \u00b7 PRM",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus. Evaluated with PRM.",
            "run": {
              "budget": 8,
              "budget_unit": "paths",
              "used_budget": 8,
              "tokens_used": 1520,
              "latency_ms": 10788,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "self_consistency",
                "name": "Self-Consistency",
                "family": "sample_and_vote"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "self_consistency_prm_selected",
                "confidence": 0.9294428079778396,
                "uncertainty": 0.07055719202216038,
                "quality_score": 0.8466666666666667,
                "selection_reason": "Self-Consistency selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Warmup trajectory sampling",
                  "stage": "sampling",
                  "decision": {
                    "action": "escalate",
                    "reason": "Consensus below threshold after warmup."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.5326492591055658,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "prm",
                      "value": 0.8416715842106312,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_prm_p1",
                      "label": "Path 1",
                      "text": "Candidate path predicts 19.",
                      "answer": "19",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "prm": 0.8894428079778396,
                        "path_score": 0.8794428079778396
                      }
                    },
                    {
                      "id": "self_consistency_prm_p2",
                      "label": "Path 2",
                      "text": "Competing path predicts 17.",
                      "answer": "17",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "prm": 0.7294428079778397,
                        "path_score": 0.7494428079778397
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated sampling and final vote",
                  "stage": "selection",
                  "decision": {
                    "action": "stop",
                    "reason": "Consensus crossed threshold after additional samples."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.8994428079778396,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "prm",
                      "value": 0.9294428079778396,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_prm_p3",
                      "label": "Path 3",
                      "text": "Escalated path verifies answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.9294428079778396,
                        "path_score": 0.9294428079778396
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 1
          },
          {
            "id": "self_consistency__sequence_prob",
            "strategy_id": "self_consistency",
            "scorer_id": "sequence_prob",
            "name": "Self-Consistency \u00b7 Sequence Prob",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus. Evaluated with Sequence Prob.",
            "run": {
              "budget": 8,
              "budget_unit": "paths",
              "used_budget": 8,
              "tokens_used": 1536,
              "latency_ms": 10496,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "self_consistency",
                "name": "Self-Consistency",
                "family": "sample_and_vote"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "self_consistency_sequence_prob_selected",
                "confidence": 0.8982044782021267,
                "uncertainty": 0.10179552179787332,
                "quality_score": 0.8266666666666667,
                "selection_reason": "Self-Consistency selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Warmup trajectory sampling",
                  "stage": "sampling",
                  "decision": {
                    "action": "escalate",
                    "reason": "Consensus below threshold after warmup."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.5277186202132171,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.7844122631629078,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_sequence_prob_p1",
                      "label": "Path 1",
                      "text": "Candidate path predicts 19.",
                      "answer": "19",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.8582044782021266,
                        "path_score": 0.8482044782021266
                      }
                    },
                    {
                      "id": "self_consistency_sequence_prob_p2",
                      "label": "Path 2",
                      "text": "Competing path predicts 15.",
                      "answer": "15",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.6982044782021266,
                        "path_score": 0.7182044782021266
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated sampling and final vote",
                  "stage": "selection",
                  "decision": {
                    "action": "stop",
                    "reason": "Consensus crossed threshold after additional samples."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.8682044782021267,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.8982044782021267,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_sequence_prob_p3",
                      "label": "Path 3",
                      "text": "Escalated path verifies answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.8982044782021267,
                        "path_score": 0.8982044782021267
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 5
          },
          {
            "id": "self_consistency__perplexity",
            "strategy_id": "self_consistency",
            "scorer_id": "perplexity",
            "name": "Self-Consistency \u00b7 Perplexity",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus. Evaluated with Perplexity.",
            "run": {
              "budget": 8,
              "budget_unit": "paths",
              "used_budget": 8,
              "tokens_used": 1447,
              "latency_ms": 10942,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "self_consistency",
                "name": "Self-Consistency",
                "family": "sample_and_vote"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "18",
                "is_correct": false,
                "selected_trajectory": "self_consistency_perplexity_selected",
                "confidence": 0.5564516602422399,
                "uncertainty": 0.4435483397577601,
                "quality_score": 0.6066666666666667,
                "selection_reason": "Self-Consistency selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Warmup trajectory sampling",
                  "stage": "sampling",
                  "decision": {
                    "action": "escalate",
                    "reason": "Consensus below threshold after warmup."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.4018371128572652,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "perplexity",
                      "value": 0.5315199823418066,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_perplexity_p1",
                      "label": "Path 1",
                      "text": "Candidate path predicts 18.",
                      "answer": "18",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.4835483397577601,
                        "path_score": 0.5064516602422399
                      }
                    },
                    {
                      "id": "self_consistency_perplexity_p2",
                      "label": "Path 2",
                      "text": "Competing path predicts 21.",
                      "answer": "21",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.6435483397577602,
                        "path_score": 0.3764516602422399
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated sampling and final vote",
                  "stage": "selection",
                  "decision": {
                    "action": "stop",
                    "reason": "Consensus crossed threshold after additional samples."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.5264516602422399,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "perplexity",
                      "value": 0.4435483397577601,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_perplexity_p3",
                      "label": "Path 3",
                      "text": "Escalated path verifies answer 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.4435483397577601,
                        "path_score": 0.5564516602422399
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 19
          },
          {
            "id": "self_consistency__entropy",
            "strategy_id": "self_consistency",
            "scorer_id": "entropy",
            "name": "Self-Consistency \u00b7 Entropy",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus. Evaluated with Entropy.",
            "run": {
              "budget": 8,
              "budget_unit": "paths",
              "used_budget": 8,
              "tokens_used": 1476,
              "latency_ms": 10643,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "self_consistency",
                "name": "Self-Consistency",
                "family": "sample_and_vote"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "19",
                "is_correct": true,
                "selected_trajectory": "self_consistency_entropy_selected",
                "confidence": 0.8891672897568741,
                "uncertainty": 0.11083271024312591,
                "quality_score": 0.7966666666666666,
                "selection_reason": "Self-Consistency selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Warmup trajectory sampling",
                  "stage": "sampling",
                  "decision": {
                    "action": "escalate",
                    "reason": "Consensus below threshold after warmup."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.42420124122956915,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "entropy",
                      "value": 0.2219723363911813,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_entropy_p1",
                      "label": "Path 1",
                      "text": "Candidate path predicts 19.",
                      "answer": "19",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "entropy": 0.15083271024312594,
                        "path_score": 0.839167289756874
                      }
                    },
                    {
                      "id": "self_consistency_entropy_p2",
                      "label": "Path 2",
                      "text": "Competing path predicts 21.",
                      "answer": "21",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "entropy": 0.31083271024312586,
                        "path_score": 0.7091672897568742
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated sampling and final vote",
                  "stage": "selection",
                  "decision": {
                    "action": "stop",
                    "reason": "Consensus crossed threshold after additional samples."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.8591672897568741,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "entropy",
                      "value": 0.11083271024312591,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_entropy_p3",
                      "label": "Path 3",
                      "text": "Escalated path verifies answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.11083271024312591,
                        "path_score": 0.8891672897568741
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 10
          }
        ]
      }
    },
    "prototype_duck_eggs": {
      "4": {
        "scenario": {
          "id": "prototype_duck_eggs",
          "title": "Prototype: Duck Eggs",
          "description": "Second cached sample to compare how strategy-scorer behavior changes across prompts.",
          "prompt": "Reason step-by-step. Return the final answer in \\boxed{}.\n\nQuestion: Janet's ducks lay 16 eggs per day. She eats 3 and uses 4 for muffins. She sells the rest for $2 each. How much does she make every day?",
          "ground_truth": "18",
          "shared_prompt": "Reason step-by-step. Return the final answer in \\boxed{}.",
          "input_source": "prototype_dataset",
          "model_config": {
            "provider": "openrouter",
            "model_id": "openai/gpt-4o-mini",
            "api_key_masked": "sk-or...demo"
          },
          "strategy_count": 5,
          "scorer_count": 4,
          "run_count": 20
        },
        "available_budgets": [
          4,
          8,
          12
        ],
        "selected_budget": 4,
        "strategy_catalog": [
          {
            "id": "baseline",
            "name": "Baseline (Raw CoT)",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking."
          },
          {
            "id": "beam_search",
            "name": "Beam Search (ToT)",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning."
          },
          {
            "id": "online_best_of_n",
            "name": "Online Best-of-N",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking."
          },
          {
            "id": "offline_best_of_n",
            "name": "Offline Best-of-N",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end."
          },
          {
            "id": "self_consistency",
            "name": "Self-Consistency",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus."
          }
        ],
        "scorer_catalog": [
          {
            "id": "prm",
            "name": "PRM",
            "direction": "higher_better",
            "threshold": 0.72,
            "summary": "Process Reward Model trajectory quality score."
          },
          {
            "id": "sequence_prob",
            "name": "Sequence Prob",
            "direction": "higher_better",
            "threshold": 0.65,
            "summary": "Cumulative sequence probability from token logprobs."
          },
          {
            "id": "perplexity",
            "name": "Perplexity",
            "direction": "lower_better",
            "threshold": 0.36,
            "summary": "Per-token perplexity estimated from generation logprobs."
          },
          {
            "id": "entropy",
            "name": "Entropy",
            "direction": "lower_better",
            "threshold": 0.34,
            "summary": "Mean token entropy of decoded reasoning steps."
          }
        ],
        "strategies": [
          {
            "id": "baseline__prm",
            "strategy_id": "baseline",
            "scorer_id": "prm",
            "name": "Baseline (Raw CoT) \u00b7 PRM",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking. Evaluated with PRM.",
            "run": {
              "budget": 4,
              "budget_unit": "steps",
              "used_budget": 2,
              "tokens_used": 1167,
              "latency_ms": 6892,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "baseline",
                "name": "Baseline (Raw CoT)",
                "family": "single_pass"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "18",
                "is_correct": true,
                "selected_trajectory": "baseline_prm_selected",
                "confidence": 0.7844522219381204,
                "uncertainty": 0.21554777806187964,
                "quality_score": 0.7133333333333334,
                "selection_reason": "Baseline (Raw CoT) selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Single-pass reasoning generation",
                  "stage": "generation",
                  "decision": {
                    "action": "stop",
                    "reason": "Single-pass baseline emits one chain; scorer evaluates the completed trajectory."
                  },
                  "signals": [
                    {
                      "name": "confidence",
                      "value": 0.7844522219381204,
                      "direction": "higher_better",
                      "threshold": 0.7
                    },
                    {
                      "name": "prm",
                      "value": 0.7844522219381204,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "baseline_prm_c1",
                      "label": "Generated chain",
                      "text": "Janet's ducks lay 16 eggs per day. She eats 3 and uses 4 for muffins. She sells the rest for $2 each. How much does she make every day? -> predicted answer 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.7844522219381204,
                        "trajectory_confidence": 0.7844522219381204
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 6
          },
          {
            "id": "baseline__sequence_prob",
            "strategy_id": "baseline",
            "scorer_id": "sequence_prob",
            "name": "Baseline (Raw CoT) \u00b7 Sequence Prob",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking. Evaluated with Sequence Prob.",
            "run": {
              "budget": 4,
              "budget_unit": "steps",
              "used_budget": 2,
              "tokens_used": 1105,
              "latency_ms": 7481,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "baseline",
                "name": "Baseline (Raw CoT)",
                "family": "single_pass"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "14",
                "is_correct": false,
                "selected_trajectory": "baseline_sequence_prob_selected",
                "confidence": 0.40683126244712,
                "uncertainty": 0.59316873755288,
                "quality_score": 0.4933333333333334,
                "selection_reason": "Baseline (Raw CoT) selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Single-pass reasoning generation",
                  "stage": "generation",
                  "decision": {
                    "action": "stop",
                    "reason": "Single-pass baseline emits one chain; scorer evaluates the completed trajectory."
                  },
                  "signals": [
                    {
                      "name": "confidence",
                      "value": 0.40683126244712,
                      "direction": "higher_better",
                      "threshold": 0.7
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.40683126244712,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "baseline_sequence_prob_c1",
                      "label": "Generated chain",
                      "text": "Janet's ducks lay 16 eggs per day. She eats 3 and uses 4 for muffins. She sells the rest for $2 each. How much does she make every day? -> predicted answer 14.",
                      "answer": "14",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.40683126244712,
                        "trajectory_confidence": 0.40683126244712
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 20
          },
          {
            "id": "baseline__perplexity",
            "strategy_id": "baseline",
            "scorer_id": "perplexity",
            "name": "Baseline (Raw CoT) \u00b7 Perplexity",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking. Evaluated with Perplexity.",
            "run": {
              "budget": 4,
              "budget_unit": "steps",
              "used_budget": 2,
              "tokens_used": 1129,
              "latency_ms": 7542,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "baseline",
                "name": "Baseline (Raw CoT)",
                "family": "single_pass"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "18",
                "is_correct": true,
                "selected_trajectory": "baseline_perplexity_selected",
                "confidence": 0.7730072721800388,
                "uncertainty": 0.22699272781996116,
                "quality_score": 0.6733333333333333,
                "selection_reason": "Baseline (Raw CoT) selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Single-pass reasoning generation",
                  "stage": "generation",
                  "decision": {
                    "action": "stop",
                    "reason": "Single-pass baseline emits one chain; scorer evaluates the completed trajectory."
                  },
                  "signals": [
                    {
                      "name": "confidence",
                      "value": 0.7730072721800388,
                      "direction": "higher_better",
                      "threshold": 0.7
                    },
                    {
                      "name": "perplexity",
                      "value": 0.22699272781996116,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "baseline_perplexity_c1",
                      "label": "Generated chain",
                      "text": "Janet's ducks lay 16 eggs per day. She eats 3 and uses 4 for muffins. She sells the rest for $2 each. How much does she make every day? -> predicted answer 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.22699272781996116,
                        "trajectory_confidence": 0.7730072721800388
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 7
          },
          {
            "id": "baseline__entropy",
            "strategy_id": "baseline",
            "scorer_id": "entropy",
            "name": "Baseline (Raw CoT) \u00b7 Entropy",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking. Evaluated with Entropy.",
            "run": {
              "budget": 4,
              "budget_unit": "steps",
              "used_budget": 2,
              "tokens_used": 1169,
              "latency_ms": 6280,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "baseline",
                "name": "Baseline (Raw CoT)",
                "family": "single_pass"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "18",
                "is_correct": true,
                "selected_trajectory": "baseline_entropy_selected",
                "confidence": 0.7404104347925329,
                "uncertainty": 0.2595895652074671,
                "quality_score": 0.6633333333333333,
                "selection_reason": "Baseline (Raw CoT) selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Single-pass reasoning generation",
                  "stage": "generation",
                  "decision": {
                    "action": "stop",
                    "reason": "Single-pass baseline emits one chain; scorer evaluates the completed trajectory."
                  },
                  "signals": [
                    {
                      "name": "confidence",
                      "value": 0.7404104347925329,
                      "direction": "higher_better",
                      "threshold": 0.7
                    },
                    {
                      "name": "entropy",
                      "value": 0.2595895652074671,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "baseline_entropy_c1",
                      "label": "Generated chain",
                      "text": "Janet's ducks lay 16 eggs per day. She eats 3 and uses 4 for muffins. She sells the rest for $2 each. How much does she make every day? -> predicted answer 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.2595895652074671,
                        "trajectory_confidence": 0.7404104347925329
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 8
          },
          {
            "id": "beam_search__prm",
            "strategy_id": "beam_search",
            "scorer_id": "prm",
            "name": "Beam Search (ToT) \u00b7 PRM",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning. Evaluated with PRM.",
            "run": {
              "budget": 4,
              "budget_unit": "node_expansions",
              "used_budget": 3,
              "tokens_used": 1042,
              "latency_ms": 6296,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "beam_search",
                "name": "Beam Search (ToT)",
                "family": "tree_search"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "17",
                "is_correct": false,
                "selected_trajectory": "beam_search_prm_selected",
                "confidence": 0.5745500104521238,
                "uncertainty": 0.42544998954787616,
                "quality_score": 0.6333333333333334,
                "selection_reason": "Beam Search (ToT) selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Depth-1 tree expansion",
                  "stage": "tree_expand",
                  "decision": {
                    "action": "stop",
                    "reason": "Expansion budget exhausted."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.5820034750043016,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "prm",
                      "value": 0.5030267102110296,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_prm_t1",
                      "label": "Node A",
                      "text": "Promising branch trending toward 17.",
                      "answer": "",
                      "status": "kept",
                      "selected": true,
                      "signals": {
                        "prm": 0.47455001045212386,
                        "value": 0.5820034750043016,
                        "depth": 1
                      }
                    },
                    {
                      "id": "beam_search_prm_t2",
                      "label": "Node B",
                      "text": "Weak branch drifting toward 17.",
                      "answer": "",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "prm": 0.35455001045212386,
                        "value": 0.4020034750043016,
                        "depth": 1
                      }
                    }
                  ]
                }
              ],
              "tree": {
                "nodes": [
                  {
                    "id": "beam_search_prm_n1",
                    "label": "Root",
                    "value": 0.5175098174333418,
                    "depth": 0,
                    "x": 0.5,
                    "y": 0.14
                  },
                  {
                    "id": "beam_search_prm_n2",
                    "label": "A",
                    "value": 0.4045500104521238,
                    "depth": 1,
                    "x": 0.24,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_prm_n3",
                    "label": "B",
                    "value": 0.4945500104521238,
                    "depth": 1,
                    "x": 0.52,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_prm_n4",
                    "label": "C",
                    "value": 0.33455001045212385,
                    "depth": 1,
                    "x": 0.8,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_prm_n5",
                    "label": "B2",
                    "value": 0.5745500104521238,
                    "depth": 2,
                    "x": 0.52,
                    "y": 0.82
                  }
                ],
                "edges": [
                  {
                    "source": "beam_search_prm_n1",
                    "target": "beam_search_prm_n2"
                  },
                  {
                    "source": "beam_search_prm_n1",
                    "target": "beam_search_prm_n3"
                  },
                  {
                    "source": "beam_search_prm_n1",
                    "target": "beam_search_prm_n4"
                  },
                  {
                    "source": "beam_search_prm_n3",
                    "target": "beam_search_prm_n5"
                  }
                ],
                "selected_path": [
                  "beam_search_prm_n1",
                  "beam_search_prm_n3",
                  "beam_search_prm_n5"
                ]
              }
            },
            "comparison_rank": 9
          },
          {
            "id": "beam_search__sequence_prob",
            "strategy_id": "beam_search",
            "scorer_id": "sequence_prob",
            "name": "Beam Search (ToT) \u00b7 Sequence Prob",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning. Evaluated with Sequence Prob.",
            "run": {
              "budget": 4,
              "budget_unit": "node_expansions",
              "used_budget": 3,
              "tokens_used": 1093,
              "latency_ms": 7418,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "beam_search",
                "name": "Beam Search (ToT)",
                "family": "tree_search"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "19",
                "is_correct": false,
                "selected_trajectory": "beam_search_sequence_prob_selected",
                "confidence": 0.5208545577405436,
                "uncertainty": 0.47914544225945643,
                "quality_score": 0.6133333333333334,
                "selection_reason": "Beam Search (ToT) selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Depth-1 tree expansion",
                  "stage": "tree_expand",
                  "decision": {
                    "action": "stop",
                    "reason": "Expansion budget exhausted."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.5929452737259745,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.42141946974894934,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_sequence_prob_t1",
                      "label": "Node A",
                      "text": "Promising branch trending toward 19.",
                      "answer": "",
                      "status": "kept",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.4208545577405436,
                        "value": 0.5929452737259745,
                        "depth": 1
                      }
                    },
                    {
                      "id": "beam_search_sequence_prob_t2",
                      "label": "Node B",
                      "text": "Weak branch drifting toward 14.",
                      "answer": "",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.3008545577405436,
                        "value": 0.4129452737259745,
                        "depth": 1
                      }
                    }
                  ]
                }
              ],
              "tree": {
                "nodes": [
                  {
                    "id": "beam_search_sequence_prob_n1",
                    "label": "Root",
                    "value": 0.52626384518954,
                    "depth": 0,
                    "x": 0.5,
                    "y": 0.14
                  },
                  {
                    "id": "beam_search_sequence_prob_n2",
                    "label": "A",
                    "value": 0.3508545577405435,
                    "depth": 1,
                    "x": 0.24,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_sequence_prob_n3",
                    "label": "B",
                    "value": 0.44085455774054355,
                    "depth": 1,
                    "x": 0.52,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_sequence_prob_n4",
                    "label": "C",
                    "value": 0.2808545577405436,
                    "depth": 1,
                    "x": 0.8,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_sequence_prob_n5",
                    "label": "B2",
                    "value": 0.5208545577405436,
                    "depth": 2,
                    "x": 0.52,
                    "y": 0.82
                  }
                ],
                "edges": [
                  {
                    "source": "beam_search_sequence_prob_n1",
                    "target": "beam_search_sequence_prob_n2"
                  },
                  {
                    "source": "beam_search_sequence_prob_n1",
                    "target": "beam_search_sequence_prob_n3"
                  },
                  {
                    "source": "beam_search_sequence_prob_n1",
                    "target": "beam_search_sequence_prob_n4"
                  },
                  {
                    "source": "beam_search_sequence_prob_n3",
                    "target": "beam_search_sequence_prob_n5"
                  }
                ],
                "selected_path": [
                  "beam_search_sequence_prob_n1",
                  "beam_search_sequence_prob_n3",
                  "beam_search_sequence_prob_n5"
                ]
              }
            },
            "comparison_rank": 11
          },
          {
            "id": "beam_search__perplexity",
            "strategy_id": "beam_search",
            "scorer_id": "perplexity",
            "name": "Beam Search (ToT) \u00b7 Perplexity",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning. Evaluated with Perplexity.",
            "run": {
              "budget": 4,
              "budget_unit": "node_expansions",
              "used_budget": 3,
              "tokens_used": 1025,
              "latency_ms": 7049,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "beam_search",
                "name": "Beam Search (ToT)",
                "family": "tree_search"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "20",
                "is_correct": false,
                "selected_trajectory": "beam_search_perplexity_selected",
                "confidence": 0.4873254727291957,
                "uncertainty": 0.5126745272708043,
                "quality_score": 0.5933333333333334,
                "selection_reason": "Beam Search (ToT) selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Depth-1 tree expansion",
                  "stage": "tree_expand",
                  "decision": {
                    "action": "stop",
                    "reason": "Expansion budget exhausted."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.6125140461635633,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "perplexity",
                      "value": 0.6163388688112301,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_perplexity_t1",
                      "label": "Node A",
                      "text": "Promising branch trending toward 20.",
                      "answer": "",
                      "status": "kept",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.6126745272708043,
                        "value": 0.6125140461635633,
                        "depth": 1
                      }
                    },
                    {
                      "id": "beam_search_perplexity_t2",
                      "label": "Node B",
                      "text": "Weak branch drifting toward 19.",
                      "answer": "",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.7326745272708043,
                        "value": 0.4325140461635633,
                        "depth": 1
                      }
                    }
                  ]
                }
              ],
              "tree": {
                "nodes": [
                  {
                    "id": "beam_search_perplexity_n1",
                    "label": "Root",
                    "value": 0.484752824156822,
                    "depth": 0,
                    "x": 0.5,
                    "y": 0.14
                  },
                  {
                    "id": "beam_search_perplexity_n2",
                    "label": "A",
                    "value": 0.31732547272919565,
                    "depth": 1,
                    "x": 0.24,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_perplexity_n3",
                    "label": "B",
                    "value": 0.40732547272919567,
                    "depth": 1,
                    "x": 0.52,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_perplexity_n4",
                    "label": "C",
                    "value": 0.2473254727291957,
                    "depth": 1,
                    "x": 0.8,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_perplexity_n5",
                    "label": "B2",
                    "value": 0.4873254727291957,
                    "depth": 2,
                    "x": 0.52,
                    "y": 0.82
                  }
                ],
                "edges": [
                  {
                    "source": "beam_search_perplexity_n1",
                    "target": "beam_search_perplexity_n2"
                  },
                  {
                    "source": "beam_search_perplexity_n1",
                    "target": "beam_search_perplexity_n3"
                  },
                  {
                    "source": "beam_search_perplexity_n1",
                    "target": "beam_search_perplexity_n4"
                  },
                  {
                    "source": "beam_search_perplexity_n3",
                    "target": "beam_search_perplexity_n5"
                  }
                ],
                "selected_path": [
                  "beam_search_perplexity_n1",
                  "beam_search_perplexity_n3",
                  "beam_search_perplexity_n5"
                ]
              }
            },
            "comparison_rank": 13
          },
          {
            "id": "beam_search__entropy",
            "strategy_id": "beam_search",
            "scorer_id": "entropy",
            "name": "Beam Search (ToT) \u00b7 Entropy",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning. Evaluated with Entropy.",
            "run": {
              "budget": 4,
              "budget_unit": "node_expansions",
              "used_budget": 3,
              "tokens_used": 1128,
              "latency_ms": 7543,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "beam_search",
                "name": "Beam Search (ToT)",
                "family": "tree_search"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "16",
                "is_correct": false,
                "selected_trajectory": "beam_search_entropy_selected",
                "confidence": 0.4918922676164336,
                "uncertainty": 0.5081077323835663,
                "quality_score": 0.5833333333333334,
                "selection_reason": "Beam Search (ToT) selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Depth-1 tree expansion",
                  "stage": "tree_expand",
                  "decision": {
                    "action": "stop",
                    "reason": "Expansion budget exhausted."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.6447587092285874,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "entropy",
                      "value": 0.6027542600604748,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_entropy_t1",
                      "label": "Node A",
                      "text": "Promising branch trending toward 16.",
                      "answer": "",
                      "status": "kept",
                      "selected": true,
                      "signals": {
                        "entropy": 0.6081077323835664,
                        "value": 0.6447587092285874,
                        "depth": 1
                      }
                    },
                    {
                      "id": "beam_search_entropy_t2",
                      "label": "Node B",
                      "text": "Weak branch drifting toward 22.",
                      "answer": "",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "entropy": 0.7281077323835664,
                        "value": 0.46475870922858736,
                        "depth": 1
                      }
                    }
                  ]
                }
              ],
              "tree": {
                "nodes": [
                  {
                    "id": "beam_search_entropy_n1",
                    "label": "Root",
                    "value": 0.5210468770848878,
                    "depth": 0,
                    "x": 0.5,
                    "y": 0.14
                  },
                  {
                    "id": "beam_search_entropy_n2",
                    "label": "A",
                    "value": 0.32189226761643364,
                    "depth": 1,
                    "x": 0.24,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_entropy_n3",
                    "label": "B",
                    "value": 0.4118922676164336,
                    "depth": 1,
                    "x": 0.52,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_entropy_n4",
                    "label": "C",
                    "value": 0.25189226761643363,
                    "depth": 1,
                    "x": 0.8,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_entropy_n5",
                    "label": "B2",
                    "value": 0.4918922676164336,
                    "depth": 2,
                    "x": 0.52,
                    "y": 0.82
                  }
                ],
                "edges": [
                  {
                    "source": "beam_search_entropy_n1",
                    "target": "beam_search_entropy_n2"
                  },
                  {
                    "source": "beam_search_entropy_n1",
                    "target": "beam_search_entropy_n3"
                  },
                  {
                    "source": "beam_search_entropy_n1",
                    "target": "beam_search_entropy_n4"
                  },
                  {
                    "source": "beam_search_entropy_n3",
                    "target": "beam_search_entropy_n5"
                  }
                ],
                "selected_path": [
                  "beam_search_entropy_n1",
                  "beam_search_entropy_n3",
                  "beam_search_entropy_n5"
                ]
              }
            },
            "comparison_rank": 15
          },
          {
            "id": "online_best_of_n__prm",
            "strategy_id": "online_best_of_n",
            "scorer_id": "prm",
            "name": "Online Best-of-N \u00b7 PRM",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking. Evaluated with PRM.",
            "run": {
              "budget": 4,
              "budget_unit": "candidate_rollouts",
              "used_budget": 3,
              "tokens_used": 1133,
              "latency_ms": 6285,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "online_best_of_n",
                "name": "Online Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "17",
                "is_correct": false,
                "selected_trajectory": "online_best_of_n_prm_selected",
                "confidence": 0.5508741212009713,
                "uncertainty": 0.44912587879902865,
                "quality_score": 0.6233333333333334,
                "selection_reason": "Online Best-of-N selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "rerank",
                    "reason": "Select best candidate from current pool."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.07503431901856306,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "prm",
                      "value": 0.4941767886223653,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_prm_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 17.",
                      "answer": "17",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.5008741212009713,
                        "rerank_score": 0.5108741212009713
                      }
                    },
                    {
                      "id": "online_best_of_n_prm_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 19.",
                      "answer": "19",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "prm": 0.33087412120097137,
                        "rerank_score": 0.3408741212009714
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 10
          },
          {
            "id": "online_best_of_n__sequence_prob",
            "strategy_id": "online_best_of_n",
            "scorer_id": "sequence_prob",
            "name": "Online Best-of-N \u00b7 Sequence Prob",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking. Evaluated with Sequence Prob.",
            "run": {
              "budget": 4,
              "budget_unit": "candidate_rollouts",
              "used_budget": 3,
              "tokens_used": 1100,
              "latency_ms": 6958,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "online_best_of_n",
                "name": "Online Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "18",
                "is_correct": true,
                "selected_trajectory": "online_best_of_n_sequence_prob_selected",
                "confidence": 0.870955229078752,
                "uncertainty": 0.129044770921248,
                "quality_score": 0.8033333333333333,
                "selection_reason": "Online Best-of-N selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "rerank",
                    "reason": "Select best candidate from current pool."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.06299639200983861,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.77542725131873,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_sequence_prob_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.820955229078752,
                        "rerank_score": 0.830955229078752
                      }
                    },
                    {
                      "id": "online_best_of_n_sequence_prob_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 15.",
                      "answer": "15",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.650955229078752,
                        "rerank_score": 0.660955229078752
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 2
          },
          {
            "id": "online_best_of_n__perplexity",
            "strategy_id": "online_best_of_n",
            "scorer_id": "perplexity",
            "name": "Online Best-of-N \u00b7 Perplexity",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking. Evaluated with Perplexity.",
            "run": {
              "budget": 4,
              "budget_unit": "candidate_rollouts",
              "used_budget": 3,
              "tokens_used": 1185,
              "latency_ms": 6863,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "online_best_of_n",
                "name": "Online Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "18",
                "is_correct": true,
                "selected_trajectory": "online_best_of_n_perplexity_selected",
                "confidence": 0.8524997487321931,
                "uncertainty": 0.14750025126780686,
                "quality_score": 0.7833333333333333,
                "selection_reason": "Online Best-of-N selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "rerank",
                    "reason": "Select best candidate from current pool."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.03481297482026892,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "perplexity",
                      "value": 0.24601009534087692,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_perplexity_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.1975002512678069,
                        "rerank_score": 0.8124997487321931
                      }
                    },
                    {
                      "id": "online_best_of_n_perplexity_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 21.",
                      "answer": "21",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.36750025126780683,
                        "rerank_score": 0.6424997487321932
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 3
          },
          {
            "id": "online_best_of_n__entropy",
            "strategy_id": "online_best_of_n",
            "scorer_id": "entropy",
            "name": "Online Best-of-N \u00b7 Entropy",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking. Evaluated with Entropy.",
            "run": {
              "budget": 4,
              "budget_unit": "candidate_rollouts",
              "used_budget": 3,
              "tokens_used": 1181,
              "latency_ms": 6956,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "online_best_of_n",
                "name": "Online Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "18",
                "is_correct": true,
                "selected_trajectory": "online_best_of_n_entropy_selected",
                "confidence": 0.85076154031719,
                "uncertainty": 0.14923845968281002,
                "quality_score": 0.7733333333333333,
                "selection_reason": "Online Best-of-N selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "rerank",
                    "reason": "Select best candidate from current pool."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.07314626445280872,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "entropy",
                      "value": 0.24452030784737933,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_entropy_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.19923845968281007,
                        "rerank_score": 0.8107615403171899
                      }
                    },
                    {
                      "id": "online_best_of_n_entropy_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 19.",
                      "answer": "19",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "entropy": 0.36923845968281,
                        "rerank_score": 0.64076154031719
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 4
          },
          {
            "id": "offline_best_of_n__prm",
            "strategy_id": "offline_best_of_n",
            "scorer_id": "prm",
            "name": "Offline Best-of-N \u00b7 PRM",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end. Evaluated with PRM.",
            "run": {
              "budget": 4,
              "budget_unit": "candidate_rollouts",
              "used_budget": 3,
              "tokens_used": 1103,
              "latency_ms": 7561,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "offline_best_of_n",
                "name": "Offline Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "21",
                "is_correct": false,
                "selected_trajectory": "offline_best_of_n_prm_selected",
                "confidence": 0.5325587113690695,
                "uncertainty": 0.4674412886309305,
                "quality_score": 0.6033333333333334,
                "selection_reason": "Offline Best-of-N selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "rerank",
                    "reason": "Select best candidate from current pool."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.05960084218253267,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "prm",
                      "value": 0.4389197181780091,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_prm_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 21.",
                      "answer": "21",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.4825587113690695,
                        "rerank_score": 0.49255871136906954
                      }
                    },
                    {
                      "id": "offline_best_of_n_prm_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 16.",
                      "answer": "16",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "prm": 0.31255871136906954,
                        "rerank_score": 0.32255871136906955
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 12
          },
          {
            "id": "offline_best_of_n__sequence_prob",
            "strategy_id": "offline_best_of_n",
            "scorer_id": "sequence_prob",
            "name": "Offline Best-of-N \u00b7 Sequence Prob",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end. Evaluated with Sequence Prob.",
            "run": {
              "budget": 4,
              "budget_unit": "candidate_rollouts",
              "used_budget": 3,
              "tokens_used": 1092,
              "latency_ms": 7900,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "offline_best_of_n",
                "name": "Offline Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "19",
                "is_correct": false,
                "selected_trajectory": "offline_best_of_n_sequence_prob_selected",
                "confidence": 0.5076897502000981,
                "uncertainty": 0.4923102497999019,
                "quality_score": 0.5833333333333334,
                "selection_reason": "Offline Best-of-N selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "rerank",
                    "reason": "Select best candidate from current pool."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.0876860988089726,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.44206845856962024,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_sequence_prob_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.4576897502000981,
                        "rerank_score": 0.4676897502000981
                      }
                    },
                    {
                      "id": "offline_best_of_n_sequence_prob_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 17.",
                      "answer": "17",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.2876897502000981,
                        "rerank_score": 0.29768975020009814
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 16
          },
          {
            "id": "offline_best_of_n__perplexity",
            "strategy_id": "offline_best_of_n",
            "scorer_id": "perplexity",
            "name": "Offline Best-of-N \u00b7 Perplexity",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end. Evaluated with Perplexity.",
            "run": {
              "budget": 4,
              "budget_unit": "candidate_rollouts",
              "used_budget": 3,
              "tokens_used": 1076,
              "latency_ms": 7252,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "offline_best_of_n",
                "name": "Offline Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "15",
                "is_correct": false,
                "selected_trajectory": "offline_best_of_n_perplexity_selected",
                "confidence": 0.4905541249380657,
                "uncertainty": 0.5094458750619343,
                "quality_score": 0.5633333333333334,
                "selection_reason": "Offline Best-of-N selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "rerank",
                    "reason": "Select best candidate from current pool."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.06598218418747885,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "perplexity",
                      "value": 0.6073039024420352,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_perplexity_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 15.",
                      "answer": "15",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.5594458750619342,
                        "rerank_score": 0.45055412493806574
                      }
                    },
                    {
                      "id": "offline_best_of_n_perplexity_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 14.",
                      "answer": "14",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.7294458750619343,
                        "rerank_score": 0.28055412493806575
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 17
          },
          {
            "id": "offline_best_of_n__entropy",
            "strategy_id": "offline_best_of_n",
            "scorer_id": "entropy",
            "name": "Offline Best-of-N \u00b7 Entropy",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end. Evaluated with Entropy.",
            "run": {
              "budget": 4,
              "budget_unit": "candidate_rollouts",
              "used_budget": 3,
              "tokens_used": 1131,
              "latency_ms": 6566,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "offline_best_of_n",
                "name": "Offline Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "14",
                "is_correct": false,
                "selected_trajectory": "offline_best_of_n_entropy_selected",
                "confidence": 0.45635695296945195,
                "uncertainty": 0.543643047030548,
                "quality_score": 0.5533333333333333,
                "selection_reason": "Offline Best-of-N selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "rerank",
                    "reason": "Select best candidate from current pool."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.07838170165853517,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "entropy",
                      "value": 0.6400131491855958,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_entropy_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 14.",
                      "answer": "14",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.593643047030548,
                        "rerank_score": 0.41635695296945197
                      }
                    },
                    {
                      "id": "offline_best_of_n_entropy_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 21.",
                      "answer": "21",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "entropy": 0.7636430470305481,
                        "rerank_score": 0.24635695296945195
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 19
          },
          {
            "id": "self_consistency__prm",
            "strategy_id": "self_consistency",
            "scorer_id": "prm",
            "name": "Self-Consistency \u00b7 PRM",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus. Evaluated with PRM.",
            "run": {
              "budget": 4,
              "budget_unit": "paths",
              "used_budget": 4,
              "tokens_used": 1101,
              "latency_ms": 7471,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "self_consistency",
                "name": "Self-Consistency",
                "family": "sample_and_vote"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "18",
                "is_correct": true,
                "selected_trajectory": "self_consistency_prm_selected",
                "confidence": 0.8674227255221215,
                "uncertainty": 0.13257727447787848,
                "quality_score": 0.8133333333333334,
                "selection_reason": "Self-Consistency selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Warmup trajectory sampling",
                  "stage": "sampling",
                  "decision": {
                    "action": "stop",
                    "reason": "Sampling budget exhausted."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.44986766204141937,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "prm",
                      "value": 0.7702099714125955,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_prm_p1",
                      "label": "Path 1",
                      "text": "Candidate path predicts 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.8274227255221215,
                        "path_score": 0.8174227255221215
                      }
                    },
                    {
                      "id": "self_consistency_prm_p2",
                      "label": "Path 2",
                      "text": "Competing path predicts 15.",
                      "answer": "15",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "prm": 0.6674227255221215,
                        "path_score": 0.6874227255221215
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 1
          },
          {
            "id": "self_consistency__sequence_prob",
            "strategy_id": "self_consistency",
            "scorer_id": "sequence_prob",
            "name": "Self-Consistency \u00b7 Sequence Prob",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus. Evaluated with Sequence Prob.",
            "run": {
              "budget": 4,
              "budget_unit": "paths",
              "used_budget": 4,
              "tokens_used": 1119,
              "latency_ms": 7112,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "self_consistency",
                "name": "Self-Consistency",
                "family": "sample_and_vote"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "17",
                "is_correct": false,
                "selected_trajectory": "self_consistency_sequence_prob_selected",
                "confidence": 0.4850386860040615,
                "uncertainty": 0.5149613139959385,
                "quality_score": 0.5933333333333334,
                "selection_reason": "Self-Consistency selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Warmup trajectory sampling",
                  "stage": "sampling",
                  "decision": {
                    "action": "stop",
                    "reason": "Sampling budget exhausted."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.48662623616924505,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.38144902038113676,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_sequence_prob_p1",
                      "label": "Path 1",
                      "text": "Candidate path predicts 17.",
                      "answer": "17",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.44503868600406155,
                        "path_score": 0.43503868600406154
                      }
                    },
                    {
                      "id": "self_consistency_sequence_prob_p2",
                      "label": "Path 2",
                      "text": "Competing path predicts 15.",
                      "answer": "15",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.2850386860040615,
                        "path_score": 0.30503868600406153
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 14
          },
          {
            "id": "self_consistency__perplexity",
            "strategy_id": "self_consistency",
            "scorer_id": "perplexity",
            "name": "Self-Consistency \u00b7 Perplexity",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus. Evaluated with Perplexity.",
            "run": {
              "budget": 4,
              "budget_unit": "paths",
              "used_budget": 4,
              "tokens_used": 1189,
              "latency_ms": 6398,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "self_consistency",
                "name": "Self-Consistency",
                "family": "sample_and_vote"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "18",
                "is_correct": true,
                "selected_trajectory": "self_consistency_perplexity_selected",
                "confidence": 0.845048458878688,
                "uncertainty": 0.15495154112131204,
                "quality_score": 0.7733333333333333,
                "selection_reason": "Self-Consistency selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Warmup trajectory sampling",
                  "stage": "sampling",
                  "decision": {
                    "action": "stop",
                    "reason": "Sampling budget exhausted."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.5613222172211023,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "perplexity",
                      "value": 0.2346914781715902,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_perplexity_p1",
                      "label": "Path 1",
                      "text": "Candidate path predicts 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.19495154112131208,
                        "path_score": 0.7950484588786879
                      }
                    },
                    {
                      "id": "self_consistency_perplexity_p2",
                      "label": "Path 2",
                      "text": "Competing path predicts 19.",
                      "answer": "19",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.354951541121312,
                        "path_score": 0.665048458878688
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 5
          },
          {
            "id": "self_consistency__entropy",
            "strategy_id": "self_consistency",
            "scorer_id": "entropy",
            "name": "Self-Consistency \u00b7 Entropy",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus. Evaluated with Entropy.",
            "run": {
              "budget": 4,
              "budget_unit": "paths",
              "used_budget": 4,
              "tokens_used": 1053,
              "latency_ms": 6948,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "self_consistency",
                "name": "Self-Consistency",
                "family": "sample_and_vote"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "15",
                "is_correct": false,
                "selected_trajectory": "self_consistency_entropy_selected",
                "confidence": 0.472073489026299,
                "uncertainty": 0.527926510973701,
                "quality_score": 0.5633333333333334,
                "selection_reason": "Self-Consistency selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Warmup trajectory sampling",
                  "stage": "sampling",
                  "decision": {
                    "action": "stop",
                    "reason": "Sampling budget exhausted."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.5258707346306031,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "entropy",
                      "value": 0.6215646723160579,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_entropy_p1",
                      "label": "Path 1",
                      "text": "Candidate path predicts 15.",
                      "answer": "15",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.5679265109737011,
                        "path_score": 0.422073489026299
                      }
                    },
                    {
                      "id": "self_consistency_entropy_p2",
                      "label": "Path 2",
                      "text": "Competing path predicts 17.",
                      "answer": "17",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "entropy": 0.727926510973701,
                        "path_score": 0.292073489026299
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 18
          }
        ]
      },
      "8": {
        "scenario": {
          "id": "prototype_duck_eggs",
          "title": "Prototype: Duck Eggs",
          "description": "Second cached sample to compare how strategy-scorer behavior changes across prompts.",
          "prompt": "Reason step-by-step. Return the final answer in \\boxed{}.\n\nQuestion: Janet's ducks lay 16 eggs per day. She eats 3 and uses 4 for muffins. She sells the rest for $2 each. How much does she make every day?",
          "ground_truth": "18",
          "shared_prompt": "Reason step-by-step. Return the final answer in \\boxed{}.",
          "input_source": "prototype_dataset",
          "model_config": {
            "provider": "openrouter",
            "model_id": "openai/gpt-4o-mini",
            "api_key_masked": "sk-or...demo"
          },
          "strategy_count": 5,
          "scorer_count": 4,
          "run_count": 20
        },
        "available_budgets": [
          4,
          8,
          12
        ],
        "selected_budget": 8,
        "strategy_catalog": [
          {
            "id": "baseline",
            "name": "Baseline (Raw CoT)",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking."
          },
          {
            "id": "beam_search",
            "name": "Beam Search (ToT)",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning."
          },
          {
            "id": "online_best_of_n",
            "name": "Online Best-of-N",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking."
          },
          {
            "id": "offline_best_of_n",
            "name": "Offline Best-of-N",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end."
          },
          {
            "id": "self_consistency",
            "name": "Self-Consistency",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus."
          }
        ],
        "scorer_catalog": [
          {
            "id": "prm",
            "name": "PRM",
            "direction": "higher_better",
            "threshold": 0.72,
            "summary": "Process Reward Model trajectory quality score."
          },
          {
            "id": "sequence_prob",
            "name": "Sequence Prob",
            "direction": "higher_better",
            "threshold": 0.65,
            "summary": "Cumulative sequence probability from token logprobs."
          },
          {
            "id": "perplexity",
            "name": "Perplexity",
            "direction": "lower_better",
            "threshold": 0.36,
            "summary": "Per-token perplexity estimated from generation logprobs."
          },
          {
            "id": "entropy",
            "name": "Entropy",
            "direction": "lower_better",
            "threshold": 0.34,
            "summary": "Mean token entropy of decoded reasoning steps."
          }
        ],
        "strategies": [
          {
            "id": "baseline__prm",
            "strategy_id": "baseline",
            "scorer_id": "prm",
            "name": "Baseline (Raw CoT) \u00b7 PRM",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking. Evaluated with PRM.",
            "run": {
              "budget": 8,
              "budget_unit": "steps",
              "used_budget": 2,
              "tokens_used": 1470,
              "latency_ms": 10110,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "baseline",
                "name": "Baseline (Raw CoT)",
                "family": "single_pass"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "14",
                "is_correct": false,
                "selected_trajectory": "baseline_prm_selected",
                "confidence": 0.48955954290991033,
                "uncertainty": 0.5104404570900897,
                "quality_score": 0.5466666666666667,
                "selection_reason": "Baseline (Raw CoT) selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Single-pass reasoning generation",
                  "stage": "generation",
                  "decision": {
                    "action": "stop",
                    "reason": "Single-pass baseline emits one chain; scorer evaluates the completed trajectory."
                  },
                  "signals": [
                    {
                      "name": "confidence",
                      "value": 0.48955954290991033,
                      "direction": "higher_better",
                      "threshold": 0.7
                    },
                    {
                      "name": "prm",
                      "value": 0.48955954290991033,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "baseline_prm_c1",
                      "label": "Generated chain",
                      "text": "Janet's ducks lay 16 eggs per day. She eats 3 and uses 4 for muffins. She sells the rest for $2 each. How much does she make every day? -> predicted answer 14.",
                      "answer": "14",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.48955954290991033,
                        "trajectory_confidence": 0.48955954290991033
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 19
          },
          {
            "id": "baseline__sequence_prob",
            "strategy_id": "baseline",
            "scorer_id": "sequence_prob",
            "name": "Baseline (Raw CoT) \u00b7 Sequence Prob",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking. Evaluated with Sequence Prob.",
            "run": {
              "budget": 8,
              "budget_unit": "steps",
              "used_budget": 2,
              "tokens_used": 1442,
              "latency_ms": 9570,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "baseline",
                "name": "Baseline (Raw CoT)",
                "family": "single_pass"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "17",
                "is_correct": false,
                "selected_trajectory": "baseline_sequence_prob_selected",
                "confidence": 0.4184022484455922,
                "uncertainty": 0.5815977515544077,
                "quality_score": 0.5266666666666667,
                "selection_reason": "Baseline (Raw CoT) selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Single-pass reasoning generation",
                  "stage": "generation",
                  "decision": {
                    "action": "stop",
                    "reason": "Single-pass baseline emits one chain; scorer evaluates the completed trajectory."
                  },
                  "signals": [
                    {
                      "name": "confidence",
                      "value": 0.4184022484455922,
                      "direction": "higher_better",
                      "threshold": 0.7
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.4184022484455922,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "baseline_sequence_prob_c1",
                      "label": "Generated chain",
                      "text": "Janet's ducks lay 16 eggs per day. She eats 3 and uses 4 for muffins. She sells the rest for $2 each. How much does she make every day? -> predicted answer 17.",
                      "answer": "17",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.4184022484455922,
                        "trajectory_confidence": 0.4184022484455922
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 20
          },
          {
            "id": "baseline__perplexity",
            "strategy_id": "baseline",
            "scorer_id": "perplexity",
            "name": "Baseline (Raw CoT) \u00b7 Perplexity",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking. Evaluated with Perplexity.",
            "run": {
              "budget": 8,
              "budget_unit": "steps",
              "used_budget": 2,
              "tokens_used": 1531,
              "latency_ms": 10830,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "baseline",
                "name": "Baseline (Raw CoT)",
                "family": "single_pass"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "18",
                "is_correct": true,
                "selected_trajectory": "baseline_perplexity_selected",
                "confidence": 0.7861988925134715,
                "uncertainty": 0.21380110748652847,
                "quality_score": 0.7066666666666667,
                "selection_reason": "Baseline (Raw CoT) selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Single-pass reasoning generation",
                  "stage": "generation",
                  "decision": {
                    "action": "stop",
                    "reason": "Single-pass baseline emits one chain; scorer evaluates the completed trajectory."
                  },
                  "signals": [
                    {
                      "name": "confidence",
                      "value": 0.7861988925134715,
                      "direction": "higher_better",
                      "threshold": 0.7
                    },
                    {
                      "name": "perplexity",
                      "value": 0.21380110748652847,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "baseline_perplexity_c1",
                      "label": "Generated chain",
                      "text": "Janet's ducks lay 16 eggs per day. She eats 3 and uses 4 for muffins. She sells the rest for $2 each. How much does she make every day? -> predicted answer 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.21380110748652847,
                        "trajectory_confidence": 0.7861988925134715
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 7
          },
          {
            "id": "baseline__entropy",
            "strategy_id": "baseline",
            "scorer_id": "entropy",
            "name": "Baseline (Raw CoT) \u00b7 Entropy",
            "family": "single_pass",
            "summary": "Single-pass raw chain-of-thought without search or reranking. Evaluated with Entropy.",
            "run": {
              "budget": 8,
              "budget_unit": "steps",
              "used_budget": 2,
              "tokens_used": 1534,
              "latency_ms": 10732,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "baseline",
                "name": "Baseline (Raw CoT)",
                "family": "single_pass"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "18",
                "is_correct": true,
                "selected_trajectory": "baseline_entropy_selected",
                "confidence": 0.7859537923635435,
                "uncertainty": 0.21404620763645654,
                "quality_score": 0.6966666666666667,
                "selection_reason": "Baseline (Raw CoT) selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Single-pass reasoning generation",
                  "stage": "generation",
                  "decision": {
                    "action": "stop",
                    "reason": "Single-pass baseline emits one chain; scorer evaluates the completed trajectory."
                  },
                  "signals": [
                    {
                      "name": "confidence",
                      "value": 0.7859537923635435,
                      "direction": "higher_better",
                      "threshold": 0.7
                    },
                    {
                      "name": "entropy",
                      "value": 0.21404620763645654,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "baseline_entropy_c1",
                      "label": "Generated chain",
                      "text": "Janet's ducks lay 16 eggs per day. She eats 3 and uses 4 for muffins. She sells the rest for $2 each. How much does she make every day? -> predicted answer 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.21404620763645654,
                        "trajectory_confidence": 0.7859537923635435
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 8
          },
          {
            "id": "beam_search__prm",
            "strategy_id": "beam_search",
            "scorer_id": "prm",
            "name": "Beam Search (ToT) \u00b7 PRM",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning. Evaluated with PRM.",
            "run": {
              "budget": 8,
              "budget_unit": "node_expansions",
              "used_budget": 5,
              "tokens_used": 1468,
              "latency_ms": 10646,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "beam_search",
                "name": "Beam Search (ToT)",
                "family": "tree_search"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "19",
                "is_correct": false,
                "selected_trajectory": "beam_search_prm_selected",
                "confidence": 0.5606949133562382,
                "uncertainty": 0.4393050866437618,
                "quality_score": 0.6666666666666667,
                "selection_reason": "Beam Search (ToT) selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Depth-1 tree expansion",
                  "stage": "tree_expand",
                  "decision": {
                    "action": "continue",
                    "reason": "Need deeper expansion to disambiguate branches."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.6986773384774886,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "prm",
                      "value": 0.4771574998910498,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_prm_t1",
                      "label": "Node A",
                      "text": "Promising branch trending toward 19.",
                      "answer": "",
                      "status": "kept",
                      "selected": true,
                      "signals": {
                        "prm": 0.46069491335623824,
                        "value": 0.6986773384774886,
                        "depth": 1
                      }
                    },
                    {
                      "id": "beam_search_prm_t2",
                      "label": "Node B",
                      "text": "Weak branch drifting toward 22.",
                      "answer": "",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "prm": 0.34069491335623825,
                        "value": 0.5186773384774885,
                        "depth": 1
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Depth-2 selection",
                  "stage": "selection",
                  "decision": {
                    "action": "stop",
                    "reason": "Best branch reached the solve threshold."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.5606949133562382,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "prm",
                      "value": 0.5606949133562382,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_prm_t3",
                      "label": "Node A2",
                      "text": "Selected branch outputs answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.5606949133562382,
                        "value": 0.5606949133562382,
                        "depth": 2
                      }
                    }
                  ]
                }
              ],
              "tree": {
                "nodes": [
                  {
                    "id": "beam_search_prm_n1",
                    "label": "Root",
                    "value": 0.5062753896634272,
                    "depth": 0,
                    "x": 0.5,
                    "y": 0.14
                  },
                  {
                    "id": "beam_search_prm_n2",
                    "label": "A",
                    "value": 0.3906949133562382,
                    "depth": 1,
                    "x": 0.24,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_prm_n3",
                    "label": "B",
                    "value": 0.4806949133562382,
                    "depth": 1,
                    "x": 0.52,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_prm_n4",
                    "label": "C",
                    "value": 0.32069491335623823,
                    "depth": 1,
                    "x": 0.8,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_prm_n5",
                    "label": "B2",
                    "value": 0.5606949133562382,
                    "depth": 2,
                    "x": 0.52,
                    "y": 0.82
                  }
                ],
                "edges": [
                  {
                    "source": "beam_search_prm_n1",
                    "target": "beam_search_prm_n2"
                  },
                  {
                    "source": "beam_search_prm_n1",
                    "target": "beam_search_prm_n3"
                  },
                  {
                    "source": "beam_search_prm_n1",
                    "target": "beam_search_prm_n4"
                  },
                  {
                    "source": "beam_search_prm_n3",
                    "target": "beam_search_prm_n5"
                  }
                ],
                "selected_path": [
                  "beam_search_prm_n1",
                  "beam_search_prm_n3",
                  "beam_search_prm_n5"
                ]
              }
            },
            "comparison_rank": 9
          },
          {
            "id": "beam_search__sequence_prob",
            "strategy_id": "beam_search",
            "scorer_id": "sequence_prob",
            "name": "Beam Search (ToT) \u00b7 Sequence Prob",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning. Evaluated with Sequence Prob.",
            "run": {
              "budget": 8,
              "budget_unit": "node_expansions",
              "used_budget": 6,
              "tokens_used": 1456,
              "latency_ms": 9289,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "beam_search",
                "name": "Beam Search (ToT)",
                "family": "tree_search"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "18",
                "is_correct": true,
                "selected_trajectory": "beam_search_sequence_prob_selected",
                "confidence": 0.9005412476940781,
                "uncertainty": 0.09945875230592194,
                "quality_score": 0.8466666666666667,
                "selection_reason": "Beam Search (ToT) selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Depth-1 tree expansion",
                  "stage": "tree_expand",
                  "decision": {
                    "action": "continue",
                    "reason": "Need deeper expansion to disambiguate branches."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.6635812779278865,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.8340598055081562,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_sequence_prob_t1",
                      "label": "Node A",
                      "text": "Promising branch trending toward 18.",
                      "answer": "",
                      "status": "kept",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.8005412476940781,
                        "value": 0.6635812779278865,
                        "depth": 1
                      }
                    },
                    {
                      "id": "beam_search_sequence_prob_t2",
                      "label": "Node B",
                      "text": "Weak branch drifting toward 19.",
                      "answer": "",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.6805412476940781,
                        "value": 0.48358127792788647,
                        "depth": 1
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Depth-2 selection",
                  "stage": "selection",
                  "decision": {
                    "action": "stop",
                    "reason": "Best branch reached the solve threshold."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.9005412476940781,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.9005412476940781,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_sequence_prob_t3",
                      "label": "Node A2",
                      "text": "Selected branch outputs answer 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.9005412476940781,
                        "value": 0.9005412476940781,
                        "depth": 2
                      }
                    }
                  ]
                }
              ],
              "tree": {
                "nodes": [
                  {
                    "id": "beam_search_sequence_prob_n1",
                    "label": "Root",
                    "value": 0.5016386809007163,
                    "depth": 0,
                    "x": 0.5,
                    "y": 0.14
                  },
                  {
                    "id": "beam_search_sequence_prob_n2",
                    "label": "A",
                    "value": 0.730541247694078,
                    "depth": 1,
                    "x": 0.24,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_sequence_prob_n3",
                    "label": "B",
                    "value": 0.8205412476940781,
                    "depth": 1,
                    "x": 0.52,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_sequence_prob_n4",
                    "label": "C",
                    "value": 0.6605412476940781,
                    "depth": 1,
                    "x": 0.8,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_sequence_prob_n5",
                    "label": "B2",
                    "value": 0.9005412476940781,
                    "depth": 2,
                    "x": 0.52,
                    "y": 0.82
                  }
                ],
                "edges": [
                  {
                    "source": "beam_search_sequence_prob_n1",
                    "target": "beam_search_sequence_prob_n2"
                  },
                  {
                    "source": "beam_search_sequence_prob_n1",
                    "target": "beam_search_sequence_prob_n3"
                  },
                  {
                    "source": "beam_search_sequence_prob_n1",
                    "target": "beam_search_sequence_prob_n4"
                  },
                  {
                    "source": "beam_search_sequence_prob_n3",
                    "target": "beam_search_sequence_prob_n5"
                  }
                ],
                "selected_path": [
                  "beam_search_sequence_prob_n1",
                  "beam_search_sequence_prob_n3",
                  "beam_search_sequence_prob_n5"
                ]
              }
            },
            "comparison_rank": 1
          },
          {
            "id": "beam_search__perplexity",
            "strategy_id": "beam_search",
            "scorer_id": "perplexity",
            "name": "Beam Search (ToT) \u00b7 Perplexity",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning. Evaluated with Perplexity.",
            "run": {
              "budget": 8,
              "budget_unit": "node_expansions",
              "used_budget": 5,
              "tokens_used": 1501,
              "latency_ms": 10616,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "beam_search",
                "name": "Beam Search (ToT)",
                "family": "tree_search"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "17",
                "is_correct": false,
                "selected_trajectory": "beam_search_perplexity_selected",
                "confidence": 0.5413685743507167,
                "uncertainty": 0.4586314256492833,
                "quality_score": 0.6266666666666667,
                "selection_reason": "Beam Search (ToT) selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Depth-1 tree expansion",
                  "stage": "tree_expand",
                  "decision": {
                    "action": "continue",
                    "reason": "Need deeper expansion to disambiguate branches."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.627548793077196,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "perplexity",
                      "value": 0.5458242590869735,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_perplexity_t1",
                      "label": "Node A",
                      "text": "Promising branch trending toward 17.",
                      "answer": "",
                      "status": "kept",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.5586314256492833,
                        "value": 0.627548793077196,
                        "depth": 1
                      }
                    },
                    {
                      "id": "beam_search_perplexity_t2",
                      "label": "Node B",
                      "text": "Weak branch drifting toward 14.",
                      "answer": "",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.6786314256492832,
                        "value": 0.447548793077196,
                        "depth": 1
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Depth-2 selection",
                  "stage": "selection",
                  "decision": {
                    "action": "stop",
                    "reason": "Best branch reached the solve threshold."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.5413685743507167,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "perplexity",
                      "value": 0.4586314256492833,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_perplexity_t3",
                      "label": "Node A2",
                      "text": "Selected branch outputs answer 17.",
                      "answer": "17",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.4586314256492833,
                        "value": 0.5413685743507167,
                        "depth": 2
                      }
                    }
                  ]
                }
              ],
              "tree": {
                "nodes": [
                  {
                    "id": "beam_search_perplexity_n1",
                    "label": "Root",
                    "value": 0.48985732604033005,
                    "depth": 0,
                    "x": 0.5,
                    "y": 0.14
                  },
                  {
                    "id": "beam_search_perplexity_n2",
                    "label": "A",
                    "value": 0.3713685743507167,
                    "depth": 1,
                    "x": 0.24,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_perplexity_n3",
                    "label": "B",
                    "value": 0.4613685743507167,
                    "depth": 1,
                    "x": 0.52,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_perplexity_n4",
                    "label": "C",
                    "value": 0.30136857435071673,
                    "depth": 1,
                    "x": 0.8,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_perplexity_n5",
                    "label": "B2",
                    "value": 0.5413685743507167,
                    "depth": 2,
                    "x": 0.52,
                    "y": 0.82
                  }
                ],
                "edges": [
                  {
                    "source": "beam_search_perplexity_n1",
                    "target": "beam_search_perplexity_n2"
                  },
                  {
                    "source": "beam_search_perplexity_n1",
                    "target": "beam_search_perplexity_n3"
                  },
                  {
                    "source": "beam_search_perplexity_n1",
                    "target": "beam_search_perplexity_n4"
                  },
                  {
                    "source": "beam_search_perplexity_n3",
                    "target": "beam_search_perplexity_n5"
                  }
                ],
                "selected_path": [
                  "beam_search_perplexity_n1",
                  "beam_search_perplexity_n3",
                  "beam_search_perplexity_n5"
                ]
              }
            },
            "comparison_rank": 11
          },
          {
            "id": "beam_search__entropy",
            "strategy_id": "beam_search",
            "scorer_id": "entropy",
            "name": "Beam Search (ToT) \u00b7 Entropy",
            "family": "tree_search",
            "summary": "Tree-of-thought expansion with beam pruning. Evaluated with Entropy.",
            "run": {
              "budget": 8,
              "budget_unit": "node_expansions",
              "used_budget": 5,
              "tokens_used": 1493,
              "latency_ms": 9435,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "beam_search",
                "name": "Beam Search (ToT)",
                "family": "tree_search"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "18",
                "is_correct": true,
                "selected_trajectory": "beam_search_entropy_selected",
                "confidence": 0.8838515938868469,
                "uncertainty": 0.11614840611315314,
                "quality_score": 0.8166666666666667,
                "selection_reason": "Beam Search (ToT) selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Depth-1 tree expansion",
                  "stage": "tree_expand",
                  "decision": {
                    "action": "continue",
                    "reason": "Need deeper expansion to disambiguate branches."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.6482258766699931,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "entropy",
                      "value": 0.2259915443201802,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_entropy_t1",
                      "label": "Node A",
                      "text": "Promising branch trending toward 18.",
                      "answer": "",
                      "status": "kept",
                      "selected": true,
                      "signals": {
                        "entropy": 0.2161484061131531,
                        "value": 0.6482258766699931,
                        "depth": 1
                      }
                    },
                    {
                      "id": "beam_search_entropy_t2",
                      "label": "Node B",
                      "text": "Weak branch drifting toward 16.",
                      "answer": "",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "entropy": 0.3361484061131531,
                        "value": 0.4682258766699931,
                        "depth": 1
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Depth-2 selection",
                  "stage": "selection",
                  "decision": {
                    "action": "stop",
                    "reason": "Best branch reached the solve threshold."
                  },
                  "signals": [
                    {
                      "name": "best_value",
                      "value": 0.8838515938868469,
                      "direction": "higher_better",
                      "threshold": 0.75
                    },
                    {
                      "name": "entropy",
                      "value": 0.11614840611315314,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "beam_search_entropy_t3",
                      "label": "Node A2",
                      "text": "Selected branch outputs answer 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.11614840611315314,
                        "value": 0.8838515938868469,
                        "depth": 2
                      }
                    }
                  ]
                }
              ],
              "tree": {
                "nodes": [
                  {
                    "id": "beam_search_entropy_n1",
                    "label": "Root",
                    "value": 0.527669313542357,
                    "depth": 0,
                    "x": 0.5,
                    "y": 0.14
                  },
                  {
                    "id": "beam_search_entropy_n2",
                    "label": "A",
                    "value": 0.7138515938868468,
                    "depth": 1,
                    "x": 0.24,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_entropy_n3",
                    "label": "B",
                    "value": 0.8038515938868469,
                    "depth": 1,
                    "x": 0.52,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_entropy_n4",
                    "label": "C",
                    "value": 0.6438515938868469,
                    "depth": 1,
                    "x": 0.8,
                    "y": 0.47
                  },
                  {
                    "id": "beam_search_entropy_n5",
                    "label": "B2",
                    "value": 0.8838515938868469,
                    "depth": 2,
                    "x": 0.52,
                    "y": 0.82
                  }
                ],
                "edges": [
                  {
                    "source": "beam_search_entropy_n1",
                    "target": "beam_search_entropy_n2"
                  },
                  {
                    "source": "beam_search_entropy_n1",
                    "target": "beam_search_entropy_n3"
                  },
                  {
                    "source": "beam_search_entropy_n1",
                    "target": "beam_search_entropy_n4"
                  },
                  {
                    "source": "beam_search_entropy_n3",
                    "target": "beam_search_entropy_n5"
                  }
                ],
                "selected_path": [
                  "beam_search_entropy_n1",
                  "beam_search_entropy_n3",
                  "beam_search_entropy_n5"
                ]
              }
            },
            "comparison_rank": 6
          },
          {
            "id": "online_best_of_n__prm",
            "strategy_id": "online_best_of_n",
            "scorer_id": "prm",
            "name": "Online Best-of-N \u00b7 PRM",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking. Evaluated with PRM.",
            "run": {
              "budget": 8,
              "budget_unit": "candidate_rollouts",
              "used_budget": 6,
              "tokens_used": 1498,
              "latency_ms": 10273,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "online_best_of_n",
                "name": "Online Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "14",
                "is_correct": false,
                "selected_trajectory": "online_best_of_n_prm_selected",
                "confidence": 0.5955577900939998,
                "uncertainty": 0.4044422099060002,
                "quality_score": 0.6566666666666667,
                "selection_reason": "Online Best-of-N selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "escalate",
                    "reason": "Top-2 score gap is narrow, request more candidates."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.03220268354439736,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "prm",
                      "value": 0.5170304861540403,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_prm_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 14.",
                      "answer": "14",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "prm": 0.5455577900939997,
                        "rerank_score": 0.5555577900939997
                      }
                    },
                    {
                      "id": "online_best_of_n_prm_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 22.",
                      "answer": "22",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "prm": 0.3755577900939998,
                        "rerank_score": 0.3855577900939998
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated reranking",
                  "stage": "reranking",
                  "decision": {
                    "action": "stop",
                    "reason": "Rerank confidence stabilized after escalation."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.11220268354439736,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "prm",
                      "value": 0.5955577900939998,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_prm_r3",
                      "label": "Candidate 3",
                      "text": "Escalated candidate selected with answer 14.",
                      "answer": "14",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.5955577900939998,
                        "rerank_score": 0.5955577900939998
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 10
          },
          {
            "id": "online_best_of_n__sequence_prob",
            "strategy_id": "online_best_of_n",
            "scorer_id": "sequence_prob",
            "name": "Online Best-of-N \u00b7 Sequence Prob",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking. Evaluated with Sequence Prob.",
            "run": {
              "budget": 8,
              "budget_unit": "candidate_rollouts",
              "used_budget": 6,
              "tokens_used": 1573,
              "latency_ms": 9553,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "online_best_of_n",
                "name": "Online Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "18",
                "is_correct": true,
                "selected_trajectory": "online_best_of_n_sequence_prob_selected",
                "confidence": 0.8956115187609996,
                "uncertainty": 0.10438848123900035,
                "quality_score": 0.8366666666666667,
                "selection_reason": "Online Best-of-N selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "escalate",
                    "reason": "Top-2 score gap is narrow, request more candidates."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.04565805443387504,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.8105462422081242,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_sequence_prob_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 18.",
                      "answer": "18",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.8456115187609996,
                        "rerank_score": 0.8556115187609996
                      }
                    },
                    {
                      "id": "online_best_of_n_sequence_prob_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 20.",
                      "answer": "20",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.6756115187609997,
                        "rerank_score": 0.6856115187609997
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated reranking",
                  "stage": "reranking",
                  "decision": {
                    "action": "stop",
                    "reason": "Rerank confidence stabilized after escalation."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.12565805443387504,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.8956115187609996,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_sequence_prob_r3",
                      "label": "Candidate 3",
                      "text": "Escalated candidate selected with answer 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.8956115187609996,
                        "rerank_score": 0.8956115187609996
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 3
          },
          {
            "id": "online_best_of_n__perplexity",
            "strategy_id": "online_best_of_n",
            "scorer_id": "perplexity",
            "name": "Online Best-of-N \u00b7 Perplexity",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking. Evaluated with Perplexity.",
            "run": {
              "budget": 8,
              "budget_unit": "candidate_rollouts",
              "used_budget": 6,
              "tokens_used": 1420,
              "latency_ms": 10096,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "online_best_of_n",
                "name": "Online Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "19",
                "is_correct": false,
                "selected_trajectory": "online_best_of_n_perplexity_selected",
                "confidence": 0.5329271068579746,
                "uncertainty": 0.4670728931420254,
                "quality_score": 0.6166666666666667,
                "selection_reason": "Online Best-of-N selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "escalate",
                    "reason": "Top-2 score gap is narrow, request more candidates."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.0836953415804424,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "perplexity",
                      "value": 0.5269223241993678,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_perplexity_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 19.",
                      "answer": "19",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.5170728931420254,
                        "rerank_score": 0.49292710685797464
                      }
                    },
                    {
                      "id": "online_best_of_n_perplexity_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 21.",
                      "answer": "21",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.6870728931420254,
                        "rerank_score": 0.32292710685797466
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated reranking",
                  "stage": "reranking",
                  "decision": {
                    "action": "stop",
                    "reason": "Rerank confidence stabilized after escalation."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.1636953415804424,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "perplexity",
                      "value": 0.4670728931420254,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_perplexity_r3",
                      "label": "Candidate 3",
                      "text": "Escalated candidate selected with answer 19.",
                      "answer": "19",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.4670728931420254,
                        "rerank_score": 0.5329271068579746
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 12
          },
          {
            "id": "online_best_of_n__entropy",
            "strategy_id": "online_best_of_n",
            "scorer_id": "entropy",
            "name": "Online Best-of-N \u00b7 Entropy",
            "family": "reranking",
            "summary": "Iterative candidate generation with stepwise reranking. Evaluated with Entropy.",
            "run": {
              "budget": 8,
              "budget_unit": "candidate_rollouts",
              "used_budget": 6,
              "tokens_used": 1443,
              "latency_ms": 10338,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "online_best_of_n",
                "name": "Online Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "16",
                "is_correct": false,
                "selected_trajectory": "online_best_of_n_entropy_selected",
                "confidence": 0.5496486018968422,
                "uncertainty": 0.45035139810315783,
                "quality_score": 0.6066666666666667,
                "selection_reason": "Online Best-of-N selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "escalate",
                    "reason": "Top-2 score gap is narrow, request more candidates."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.09063041212856747,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "entropy",
                      "value": 0.5448458313633018,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_entropy_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 16.",
                      "answer": "16",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "entropy": 0.5003513981031578,
                        "rerank_score": 0.5096486018968421
                      }
                    },
                    {
                      "id": "online_best_of_n_entropy_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 17.",
                      "answer": "17",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "entropy": 0.6703513981031578,
                        "rerank_score": 0.3396486018968422
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated reranking",
                  "stage": "reranking",
                  "decision": {
                    "action": "stop",
                    "reason": "Rerank confidence stabilized after escalation."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.17063041212856747,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "entropy",
                      "value": 0.45035139810315783,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "online_best_of_n_entropy_r3",
                      "label": "Candidate 3",
                      "text": "Escalated candidate selected with answer 16.",
                      "answer": "16",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.45035139810315783,
                        "rerank_score": 0.5496486018968422
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 14
          },
          {
            "id": "offline_best_of_n__prm",
            "strategy_id": "offline_best_of_n",
            "scorer_id": "prm",
            "name": "Offline Best-of-N \u00b7 PRM",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end. Evaluated with PRM.",
            "run": {
              "budget": 8,
              "budget_unit": "candidate_rollouts",
              "used_budget": 6,
              "tokens_used": 1546,
              "latency_ms": 10844,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "offline_best_of_n",
                "name": "Offline Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "18",
                "is_correct": true,
                "selected_trajectory": "offline_best_of_n_prm_selected",
                "confidence": 0.8789934492168302,
                "uncertainty": 0.1210065507831698,
                "quality_score": 0.8366666666666667,
                "selection_reason": "Offline Best-of-N selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "escalate",
                    "reason": "Top-2 score gap is narrow, request more candidates."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.08170551544808144,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "prm",
                      "value": 0.7864887710875746,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_prm_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 18.",
                      "answer": "18",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "prm": 0.8289934492168302,
                        "rerank_score": 0.8389934492168302
                      }
                    },
                    {
                      "id": "offline_best_of_n_prm_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 14.",
                      "answer": "14",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "prm": 0.6589934492168302,
                        "rerank_score": 0.6689934492168302
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated reranking",
                  "stage": "reranking",
                  "decision": {
                    "action": "stop",
                    "reason": "Rerank confidence stabilized after escalation."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.16170551544808143,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "prm",
                      "value": 0.8789934492168302,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_prm_r3",
                      "label": "Candidate 3",
                      "text": "Escalated candidate selected with answer 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.8789934492168302,
                        "rerank_score": 0.8789934492168302
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 4
          },
          {
            "id": "offline_best_of_n__sequence_prob",
            "strategy_id": "offline_best_of_n",
            "scorer_id": "sequence_prob",
            "name": "Offline Best-of-N \u00b7 Sequence Prob",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end. Evaluated with Sequence Prob.",
            "run": {
              "budget": 8,
              "budget_unit": "candidate_rollouts",
              "used_budget": 6,
              "tokens_used": 1509,
              "latency_ms": 10764,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "offline_best_of_n",
                "name": "Offline Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "15",
                "is_correct": false,
                "selected_trajectory": "offline_best_of_n_sequence_prob_selected",
                "confidence": 0.5409065962465983,
                "uncertainty": 0.4590934037534017,
                "quality_score": 0.6166666666666667,
                "selection_reason": "Offline Best-of-N selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "escalate",
                    "reason": "Top-2 score gap is narrow, request more candidates."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.09040802332297151,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.4522855386273854,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_sequence_prob_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 15.",
                      "answer": "15",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.4909065962465983,
                        "rerank_score": 0.5009065962465983
                      }
                    },
                    {
                      "id": "offline_best_of_n_sequence_prob_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 17.",
                      "answer": "17",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.32090659624659834,
                        "rerank_score": 0.33090659624659835
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated reranking",
                  "stage": "reranking",
                  "decision": {
                    "action": "stop",
                    "reason": "Rerank confidence stabilized after escalation."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.1704080233229715,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.5409065962465983,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_sequence_prob_r3",
                      "label": "Candidate 3",
                      "text": "Escalated candidate selected with answer 15.",
                      "answer": "15",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.5409065962465983,
                        "rerank_score": 0.5409065962465983
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 13
          },
          {
            "id": "offline_best_of_n__perplexity",
            "strategy_id": "offline_best_of_n",
            "scorer_id": "perplexity",
            "name": "Offline Best-of-N \u00b7 Perplexity",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end. Evaluated with Perplexity.",
            "run": {
              "budget": 8,
              "budget_unit": "candidate_rollouts",
              "used_budget": 6,
              "tokens_used": 1452,
              "latency_ms": 9346,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "offline_best_of_n",
                "name": "Offline Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "17",
                "is_correct": false,
                "selected_trajectory": "offline_best_of_n_perplexity_selected",
                "confidence": 0.4869579105152108,
                "uncertainty": 0.5130420894847891,
                "quality_score": 0.5966666666666667,
                "selection_reason": "Offline Best-of-N selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "escalate",
                    "reason": "Top-2 score gap is narrow, request more candidates."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.10791948601142133,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "perplexity",
                      "value": 0.5725566224753399,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_perplexity_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 17.",
                      "answer": "17",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.5630420894847892,
                        "rerank_score": 0.44695791051521083
                      }
                    },
                    {
                      "id": "offline_best_of_n_perplexity_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 21.",
                      "answer": "21",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.7330420894847892,
                        "rerank_score": 0.2769579105152108
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated reranking",
                  "stage": "reranking",
                  "decision": {
                    "action": "stop",
                    "reason": "Rerank confidence stabilized after escalation."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.18791948601142133,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "perplexity",
                      "value": 0.5130420894847891,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_perplexity_r3",
                      "label": "Candidate 3",
                      "text": "Escalated candidate selected with answer 17.",
                      "answer": "17",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.5130420894847891,
                        "rerank_score": 0.4869579105152108
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 16
          },
          {
            "id": "offline_best_of_n__entropy",
            "strategy_id": "offline_best_of_n",
            "scorer_id": "entropy",
            "name": "Offline Best-of-N \u00b7 Entropy",
            "family": "reranking",
            "summary": "Generate full trajectories first, then rerank at the end. Evaluated with Entropy.",
            "run": {
              "budget": 8,
              "budget_unit": "candidate_rollouts",
              "used_budget": 7,
              "tokens_used": 1465,
              "latency_ms": 10286,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "offline_best_of_n",
                "name": "Offline Best-of-N",
                "family": "reranking"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "21",
                "is_correct": false,
                "selected_trajectory": "offline_best_of_n_entropy_selected",
                "confidence": 0.496390931300838,
                "uncertainty": 0.503609068699162,
                "quality_score": 0.5866666666666667,
                "selection_reason": "Offline Best-of-N selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Candidate generation and scoring",
                  "stage": "candidate_generation",
                  "decision": {
                    "action": "escalate",
                    "reason": "Top-2 score gap is narrow, request more candidates."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.07311847402630481,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "entropy",
                      "value": 0.557243630095708,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_entropy_r1",
                      "label": "Candidate 1",
                      "text": "High-scoring candidate predicts 21.",
                      "answer": "21",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "entropy": 0.5536090686991619,
                        "rerank_score": 0.456390931300838
                      }
                    },
                    {
                      "id": "offline_best_of_n_entropy_r2",
                      "label": "Candidate 2",
                      "text": "Lower-scoring candidate predicts 19.",
                      "answer": "19",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "entropy": 0.723609068699162,
                        "rerank_score": 0.28639093130083804
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated reranking",
                  "stage": "reranking",
                  "decision": {
                    "action": "stop",
                    "reason": "Rerank confidence stabilized after escalation."
                  },
                  "signals": [
                    {
                      "name": "top2_gap",
                      "value": 0.1531184740263048,
                      "direction": "higher_better",
                      "threshold": 0.08
                    },
                    {
                      "name": "entropy",
                      "value": 0.503609068699162,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "offline_best_of_n_entropy_r3",
                      "label": "Candidate 3",
                      "text": "Escalated candidate selected with answer 21.",
                      "answer": "21",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.503609068699162,
                        "rerank_score": 0.496390931300838
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 18
          },
          {
            "id": "self_consistency__prm",
            "strategy_id": "self_consistency",
            "scorer_id": "prm",
            "name": "Self-Consistency \u00b7 PRM",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus. Evaluated with PRM.",
            "run": {
              "budget": 8,
              "budget_unit": "paths",
              "used_budget": 8,
              "tokens_used": 1553,
              "latency_ms": 9685,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "self_consistency",
                "name": "Self-Consistency",
                "family": "sample_and_vote"
              },
              "scorer": {
                "id": "prm",
                "name": "PRM",
                "direction": "higher_better",
                "summary": "Process Reward Model trajectory quality score."
              },
              "final": {
                "answer": "18",
                "is_correct": true,
                "selected_trajectory": "self_consistency_prm_selected",
                "confidence": 0.9460926001386506,
                "uncertainty": 0.0539073998613494,
                "quality_score": 0.8466666666666667,
                "selection_reason": "Self-Consistency selected this trajectory using PRM scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Warmup trajectory sampling",
                  "stage": "sampling",
                  "decision": {
                    "action": "escalate",
                    "reason": "Consensus below threshold after warmup."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.5030686204513941,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "prm",
                      "value": 0.8415172138194006,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_prm_p1",
                      "label": "Path 1",
                      "text": "Candidate path predicts 18.",
                      "answer": "18",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "prm": 0.9060926001386506,
                        "path_score": 0.8960926001386506
                      }
                    },
                    {
                      "id": "self_consistency_prm_p2",
                      "label": "Path 2",
                      "text": "Competing path predicts 15.",
                      "answer": "15",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "prm": 0.7460926001386505,
                        "path_score": 0.7660926001386505
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated sampling and final vote",
                  "stage": "selection",
                  "decision": {
                    "action": "stop",
                    "reason": "Consensus crossed threshold after additional samples."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.9160926001386506,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "prm",
                      "value": 0.9460926001386506,
                      "direction": "higher_better",
                      "threshold": 0.72
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_prm_p3",
                      "label": "Path 3",
                      "text": "Escalated path verifies answer 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "prm": 0.9460926001386506,
                        "path_score": 0.9460926001386506
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 2
          },
          {
            "id": "self_consistency__sequence_prob",
            "strategy_id": "self_consistency",
            "scorer_id": "sequence_prob",
            "name": "Self-Consistency \u00b7 Sequence Prob",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus. Evaluated with Sequence Prob.",
            "run": {
              "budget": 8,
              "budget_unit": "paths",
              "used_budget": 8,
              "tokens_used": 1551,
              "latency_ms": 9786,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "self_consistency",
                "name": "Self-Consistency",
                "family": "sample_and_vote"
              },
              "scorer": {
                "id": "sequence_prob",
                "name": "Sequence Prob",
                "direction": "higher_better",
                "summary": "Cumulative sequence probability from token logprobs."
              },
              "final": {
                "answer": "18",
                "is_correct": true,
                "selected_trajectory": "self_consistency_sequence_prob_selected",
                "confidence": 0.918068792634866,
                "uncertainty": 0.08193120736513404,
                "quality_score": 0.8266666666666667,
                "selection_reason": "Self-Consistency selected this trajectory using Sequence Prob scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Warmup trajectory sampling",
                  "stage": "sampling",
                  "decision": {
                    "action": "escalate",
                    "reason": "Consensus below threshold after warmup."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.566748547368071,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.8580375277271043,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_sequence_prob_p1",
                      "label": "Path 1",
                      "text": "Candidate path predicts 18.",
                      "answer": "18",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.8780687926348659,
                        "path_score": 0.8680687926348659
                      }
                    },
                    {
                      "id": "self_consistency_sequence_prob_p2",
                      "label": "Path 2",
                      "text": "Competing path predicts 19.",
                      "answer": "19",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "sequence_prob": 0.7180687926348659,
                        "path_score": 0.7380687926348659
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated sampling and final vote",
                  "stage": "selection",
                  "decision": {
                    "action": "stop",
                    "reason": "Consensus crossed threshold after additional samples."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.8880687926348659,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "sequence_prob",
                      "value": 0.918068792634866,
                      "direction": "higher_better",
                      "threshold": 0.65
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_sequence_prob_p3",
                      "label": "Path 3",
                      "text": "Escalated path verifies answer 18.",
                      "answer": "18",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "sequence_prob": 0.918068792634866,
                        "path_score": 0.918068792634866
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 5
          },
          {
            "id": "self_consistency__perplexity",
            "strategy_id": "self_consistency",
            "scorer_id": "perplexity",
            "name": "Self-Consistency \u00b7 Perplexity",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus. Evaluated with Perplexity.",
            "run": {
              "budget": 8,
              "budget_unit": "paths",
              "used_budget": 8,
              "tokens_used": 1406,
              "latency_ms": 10267,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "self_consistency",
                "name": "Self-Consistency",
                "family": "sample_and_vote"
              },
              "scorer": {
                "id": "perplexity",
                "name": "Perplexity",
                "direction": "lower_better",
                "summary": "Per-token perplexity estimated from generation logprobs."
              },
              "final": {
                "answer": "16",
                "is_correct": false,
                "selected_trajectory": "self_consistency_perplexity_selected",
                "confidence": 0.5499613118742231,
                "uncertainty": 0.45003868812577685,
                "quality_score": 0.6066666666666667,
                "selection_reason": "Self-Consistency selected this trajectory using Perplexity scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Warmup trajectory sampling",
                  "stage": "sampling",
                  "decision": {
                    "action": "escalate",
                    "reason": "Consensus below threshold after warmup."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.4437130928325474,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "perplexity",
                      "value": 0.5153139816113239,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_perplexity_p1",
                      "label": "Path 1",
                      "text": "Candidate path predicts 16.",
                      "answer": "16",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.4900386881257769,
                        "path_score": 0.49996131187422316
                      }
                    },
                    {
                      "id": "self_consistency_perplexity_p2",
                      "label": "Path 2",
                      "text": "Competing path predicts 14.",
                      "answer": "14",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "perplexity": 0.6500386881257769,
                        "path_score": 0.36996131187422315
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated sampling and final vote",
                  "stage": "selection",
                  "decision": {
                    "action": "stop",
                    "reason": "Consensus crossed threshold after additional samples."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.5199613118742231,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "perplexity",
                      "value": 0.45003868812577685,
                      "direction": "lower_better",
                      "threshold": 0.36
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_perplexity_p3",
                      "label": "Path 3",
                      "text": "Escalated path verifies answer 16.",
                      "answer": "16",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "perplexity": 0.45003868812577685,
                        "path_score": 0.5499613118742231
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 15
          },
          {
            "id": "self_consistency__entropy",
            "strategy_id": "self_consistency",
            "scorer_id": "entropy",
            "name": "Self-Consistency \u00b7 Entropy",
            "family": "sample_and_vote",
            "summary": "Sample diverse trajectories and select by answer consensus. Evaluated with Entropy.",
            "run": {
              "budget": 8,
              "budget_unit": "paths",
              "used_budget": 8,
              "tokens_used": 1493,
              "latency_ms": 10049,
              "provider": "openrouter",
              "model_id": "openai/gpt-4o-mini",
              "strategy": {
                "id": "self_consistency",
                "name": "Self-Consistency",
                "family": "sample_and_vote"
              },
              "scorer": {
                "id": "entropy",
                "name": "Entropy",
                "direction": "lower_better",
                "summary": "Mean token entropy of decoded reasoning steps."
              },
              "final": {
                "answer": "22",
                "is_correct": false,
                "selected_trajectory": "self_consistency_entropy_selected",
                "confidence": 0.5238932390086417,
                "uncertainty": 0.4761067609913583,
                "quality_score": 0.5966666666666667,
                "selection_reason": "Self-Consistency selected this trajectory using Entropy scoring signals."
              },
              "events": [
                {
                  "step": 1,
                  "title": "Warmup trajectory sampling",
                  "stage": "sampling",
                  "decision": {
                    "action": "escalate",
                    "reason": "Consensus below threshold after warmup."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.41836169109274324,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "entropy",
                      "value": 0.5674914707223802,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_entropy_p1",
                      "label": "Path 1",
                      "text": "Candidate path predicts 22.",
                      "answer": "22",
                      "status": "kept",
                      "selected": false,
                      "signals": {
                        "entropy": 0.5161067609913583,
                        "path_score": 0.4738932390086417
                      }
                    },
                    {
                      "id": "self_consistency_entropy_p2",
                      "label": "Path 2",
                      "text": "Competing path predicts 17.",
                      "answer": "17",
                      "status": "pruned",
                      "selected": false,
                      "signals": {
                        "entropy": 0.6761067609913582,
                        "path_score": 0.3438932390086417
                      }
                    }
                  ]
                },
                {
                  "step": 2,
                  "title": "Escalated sampling and final vote",
                  "stage": "selection",
                  "decision": {
                    "action": "stop",
                    "reason": "Consensus crossed threshold after additional samples."
                  },
                  "signals": [
                    {
                      "name": "consensus",
                      "value": 0.4938932390086417,
                      "direction": "higher_better",
                      "threshold": 0.65
                    },
                    {
                      "name": "entropy",
                      "value": 0.4761067609913583,
                      "direction": "lower_better",
                      "threshold": 0.34
                    }
                  ],
                  "candidates": [
                    {
                      "id": "self_consistency_entropy_p3",
                      "label": "Path 3",
                      "text": "Escalated path verifies answer 22.",
                      "answer": "22",
                      "status": "selected",
                      "selected": true,
                      "signals": {
                        "entropy": 0.4761067609913583,
                        "path_score": 0.5238932390086417
                      }
                    }
                  ]
                }
              ]
            },
            "comparison_rank": 17
          }
        ]
      }
    }
  }
}
